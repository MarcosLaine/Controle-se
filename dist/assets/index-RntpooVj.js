import{j as r,C as Ct,A as St,p as Tt,a as Et,b as Dt,L as Ot,B as ya,c as At,D as He,d as wr,P as jr,e as Nr,i as kr,f as Cr}from"./chart-vendor-DGnZX7C6.js";import{a as Sr,r as y,u as Rt,b as Tr,B as Er,R as Dr,c as ct,N as pt,d as Or}from"./react-vendor-DvzhpQQn.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))s(n);new MutationObserver(n=>{for(const o of n)if(o.type==="childList")for(const i of o.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&s(i)}).observe(document,{childList:!0,subtree:!0});function a(n){const o={};return n.integrity&&(o.integrity=n.integrity),n.referrerPolicy&&(o.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?o.credentials="include":n.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function s(n){if(n.ep)return;n.ep=!0;const o=a(n);fetch(n.href,o)}})();var gt={},_t=Sr;gt.createRoot=_t.createRoot,gt.hydrateRoot=_t.hydrateRoot;let Ar={data:""},Rr=e=>{if(typeof window=="object"){let t=(e?e.querySelector("#_goober"):window._goober)||Object.assign(document.createElement("style"),{innerHTML:" ",id:"_goober"});return t.nonce=window.__nonce__,t.parentNode||(e||document.head).appendChild(t),t.firstChild}return e||Ar},Pr=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,Mr=/\/\*[^]*?\*\/|  +/g,qt=/\n+/g,pe=(e,t)=>{let a="",s="",n="";for(let o in e){let i=e[o];o[0]=="@"?o[1]=="i"?a=o+" "+i+";":s+=o[1]=="f"?pe(i,o):o+"{"+pe(i,o[1]=="k"?"":t)+"}":typeof i=="object"?s+=pe(i,t?t.replace(/([^,])+/g,l=>o.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,u=>/&/.test(u)?u.replace(/&/g,l):l?l+" "+u:u)):o):i!=null&&(o=/^--/.test(o)?o:o.replace(/[A-Z]/g,"-$&").toLowerCase(),n+=pe.p?pe.p(o,i):o+":"+i+";")}return a+(t&&n?t+"{"+n+"}":n)+s},ue={},ba=e=>{if(typeof e=="object"){let t="";for(let a in e)t+=a+ba(e[a]);return t}return e},Ir=(e,t,a,s,n)=>{let o=ba(e),i=ue[o]||(ue[o]=(u=>{let c=0,m=11;for(;c<u.length;)m=101*m+u.charCodeAt(c++)>>>0;return"go"+m})(o));if(!ue[i]){let u=o!==e?e:(c=>{let m,d,v=[{}];for(;m=Pr.exec(c.replace(Mr,""));)m[4]?v.shift():m[3]?(d=m[3].replace(qt," ").trim(),v.unshift(v[0][d]=v[0][d]||{})):v[0][m[1]]=m[2].replace(qt," ").trim();return v[0]})(e);ue[i]=pe(n?{["@keyframes "+i]:u}:u,a?"":"."+i)}let l=a&&ue.g?ue.g:null;return a&&(ue.g=ue[i]),((u,c,m,d)=>{d?c.data=c.data.replace(d,u):c.data.indexOf(u)===-1&&(c.data=m?u+c.data:c.data+u)})(ue[i],t,s,l),i},Fr=(e,t,a)=>e.reduce((s,n,o)=>{let i=t[o];if(i&&i.call){let l=i(a),u=l&&l.props&&l.props.className||/^go/.test(l)&&l;i=u?"."+u:l&&typeof l=="object"?l.props?"":pe(l,""):l===!1?"":l}return s+n+(i??"")},"");function et(e){let t=this||{},a=e.call?e(t.p):e;return Ir(a.unshift?a.raw?Fr(a,[].slice.call(arguments,1),t.p):a.reduce((s,n)=>Object.assign(s,n&&n.call?n(t.p):n),{}):a,Rr(t.target),t.g,t.o,t.k)}let va,xt,yt;et.bind({g:1});let me=et.bind({k:1});function $r(e,t,a,s){pe.p=t,va=e,xt=a,yt=s}function ge(e,t){let a=this||{};return function(){let s=arguments;function n(o,i){let l=Object.assign({},o),u=l.className||n.className;a.p=Object.assign({theme:xt&&xt()},l),a.o=/ *go\d+/.test(u),l.className=et.apply(a,s)+(u?" "+u:"");let c=e;return e[0]&&(c=l.as||e,delete l.as),yt&&c[0]&&yt(l),va(c,l)}return n}}var Lr=e=>typeof e=="function",Ye=(e,t)=>Lr(e)?e(t):e,Ur=(()=>{let e=0;return()=>(++e).toString()})(),wa=(()=>{let e;return()=>{if(e===void 0&&typeof window<"u"){let t=matchMedia("(prefers-reduced-motion: reduce)");e=!t||t.matches}return e}})(),_r=20,Pt="default",ja=(e,t)=>{let{toastLimit:a}=e.settings;switch(t.type){case 0:return{...e,toasts:[t.toast,...e.toasts].slice(0,a)};case 1:return{...e,toasts:e.toasts.map(i=>i.id===t.toast.id?{...i,...t.toast}:i)};case 2:let{toast:s}=t;return ja(e,{type:e.toasts.find(i=>i.id===s.id)?1:0,toast:s});case 3:let{toastId:n}=t;return{...e,toasts:e.toasts.map(i=>i.id===n||n===void 0?{...i,dismissed:!0,visible:!1}:i)};case 4:return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(i=>i.id!==t.toastId)};case 5:return{...e,pausedAt:t.time};case 6:let o=t.time-(e.pausedAt||0);return{...e,pausedAt:void 0,toasts:e.toasts.map(i=>({...i,pauseDuration:i.pauseDuration+o}))}}},qe=[],Na={toasts:[],pausedAt:void 0,settings:{toastLimit:_r}},ce={},ka=(e,t=Pt)=>{ce[t]=ja(ce[t]||Na,e),qe.forEach(([a,s])=>{a===t&&s(ce[t])})},Ca=e=>Object.keys(ce).forEach(t=>ka(e,t)),qr=e=>Object.keys(ce).find(t=>ce[t].toasts.some(a=>a.id===e)),tt=(e=Pt)=>t=>{ka(t,e)},Br={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},Wr=(e={},t=Pt)=>{let[a,s]=y.useState(ce[t]||Na),n=y.useRef(ce[t]);y.useEffect(()=>(n.current!==ce[t]&&s(ce[t]),qe.push([t,s]),()=>{let i=qe.findIndex(([l])=>l===t);i>-1&&qe.splice(i,1)}),[t]);let o=a.toasts.map(i=>{var l,u,c;return{...e,...e[i.type],...i,removeDelay:i.removeDelay||((l=e[i.type])==null?void 0:l.removeDelay)||(e==null?void 0:e.removeDelay),duration:i.duration||((u=e[i.type])==null?void 0:u.duration)||(e==null?void 0:e.duration)||Br[i.type],style:{...e.style,...(c=e[i.type])==null?void 0:c.style,...i.style}}});return{...a,toasts:o}},zr=(e,t="blank",a)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:t,ariaProps:{role:"status","aria-live":"polite"},message:e,pauseDuration:0,...a,id:(a==null?void 0:a.id)||Ur()}),Pe=e=>(t,a)=>{let s=zr(t,e,a);return tt(s.toasterId||qr(s.id))({type:2,toast:s}),s.id},H=(e,t)=>Pe("blank")(e,t);H.error=Pe("error");H.success=Pe("success");H.loading=Pe("loading");H.custom=Pe("custom");H.dismiss=(e,t)=>{let a={type:3,toastId:e};t?tt(t)(a):Ca(a)};H.dismissAll=e=>H.dismiss(void 0,e);H.remove=(e,t)=>{let a={type:4,toastId:e};t?tt(t)(a):Ca(a)};H.removeAll=e=>H.remove(void 0,e);H.promise=(e,t,a)=>{let s=H.loading(t.loading,{...a,...a==null?void 0:a.loading});return typeof e=="function"&&(e=e()),e.then(n=>{let o=t.success?Ye(t.success,n):void 0;return o?H.success(o,{id:s,...a,...a==null?void 0:a.success}):H.dismiss(s),n}).catch(n=>{let o=t.error?Ye(t.error,n):void 0;o?H.error(o,{id:s,...a,...a==null?void 0:a.error}):H.dismiss(s)}),e};var Hr=1e3,Yr=(e,t="default")=>{let{toasts:a,pausedAt:s}=Wr(e,t),n=y.useRef(new Map).current,o=y.useCallback((d,v=Hr)=>{if(n.has(d))return;let b=setTimeout(()=>{n.delete(d),i({type:4,toastId:d})},v);n.set(d,b)},[]);y.useEffect(()=>{if(s)return;let d=Date.now(),v=a.map(b=>{if(b.duration===1/0)return;let f=(b.duration||0)+b.pauseDuration-(d-b.createdAt);if(f<0){b.visible&&H.dismiss(b.id);return}return setTimeout(()=>H.dismiss(b.id,t),f)});return()=>{v.forEach(b=>b&&clearTimeout(b))}},[a,s,t]);let i=y.useCallback(tt(t),[t]),l=y.useCallback(()=>{i({type:5,time:Date.now()})},[i]),u=y.useCallback((d,v)=>{i({type:1,toast:{id:d,height:v}})},[i]),c=y.useCallback(()=>{s&&i({type:6,time:Date.now()})},[s,i]),m=y.useCallback((d,v)=>{let{reverseOrder:b=!1,gutter:f=8,defaultPosition:w}=v||{},h=a.filter(T=>(T.position||w)===(d.position||w)&&T.height),p=h.findIndex(T=>T.id===d.id),S=h.filter((T,j)=>j<p&&T.visible).length;return h.filter(T=>T.visible).slice(...b?[S+1]:[0,S]).reduce((T,j)=>T+(j.height||0)+f,0)},[a]);return y.useEffect(()=>{a.forEach(d=>{if(d.dismissed)o(d.id,d.removeDelay);else{let v=n.get(d.id);v&&(clearTimeout(v),n.delete(d.id))}})},[a,o]),{toasts:a,handlers:{updateHeight:u,startPause:l,endPause:c,calculateOffset:m}}},Vr=me`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,Xr=me`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,Jr=me`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,Qr=ge("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${Vr} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${Xr} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${e=>e.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${Jr} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,Kr=me`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,Gr=ge("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${e=>e.secondary||"#e0e0e0"};
  border-right-color: ${e=>e.primary||"#616161"};
  animation: ${Kr} 1s linear infinite;
`,Zr=me`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,es=me`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,ts=ge("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${Zr} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${es} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${e=>e.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,as=ge("div")`
  position: absolute;
`,rs=ge("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,ss=me`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,ns=ge("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${ss} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,os=({toast:e})=>{let{icon:t,type:a,iconTheme:s}=e;return t!==void 0?typeof t=="string"?y.createElement(ns,null,t):t:a==="blank"?null:y.createElement(rs,null,y.createElement(Gr,{...s}),a!=="loading"&&y.createElement(as,null,a==="error"?y.createElement(Qr,{...s}):y.createElement(ts,{...s})))},is=e=>`
0% {transform: translate3d(0,${e*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,ls=e=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${e*-150}%,-1px) scale(.6); opacity:0;}
`,cs="0%{opacity:0;} 100%{opacity:1;}",ds="0%{opacity:1;} 100%{opacity:0;}",us=ge("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,ms=ge("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,hs=(e,t)=>{let a=e.includes("top")?1:-1,[s,n]=wa()?[cs,ds]:[is(a),ls(a)];return{animation:t?`${me(s)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${me(n)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},fs=y.memo(({toast:e,position:t,style:a,children:s})=>{let n=e.height?hs(e.position||t||"top-center",e.visible):{opacity:0},o=y.createElement(os,{toast:e}),i=y.createElement(ms,{...e.ariaProps},Ye(e.message,e));return y.createElement(us,{className:e.className,style:{...n,...a,...e.style}},typeof s=="function"?s({icon:o,message:i}):y.createElement(y.Fragment,null,o,i))});$r(y.createElement);var ps=({id:e,className:t,style:a,onHeightUpdate:s,children:n})=>{let o=y.useCallback(i=>{if(i){let l=()=>{let u=i.getBoundingClientRect().height;s(e,u)};l(),new MutationObserver(l).observe(i,{subtree:!0,childList:!0,characterData:!0})}},[e,s]);return y.createElement("div",{ref:o,className:t,style:a},n)},gs=(e,t)=>{let a=e.includes("top"),s=a?{top:0}:{bottom:0},n=e.includes("center")?{justifyContent:"center"}:e.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:wa()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${t*(a?1:-1)}px)`,...s,...n}},xs=et`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,Le=16,ys=({reverseOrder:e,position:t="top-center",toastOptions:a,gutter:s,children:n,toasterId:o,containerStyle:i,containerClassName:l})=>{let{toasts:u,handlers:c}=Yr(a,o);return y.createElement("div",{"data-rht-toaster":o||"",style:{position:"fixed",zIndex:9999,top:Le,left:Le,right:Le,bottom:Le,pointerEvents:"none",...i},className:l,onMouseEnter:c.startPause,onMouseLeave:c.endPause},u.map(m=>{let d=m.position||t,v=c.calculateOffset(m,{reverseOrder:e,gutter:s,defaultPosition:t}),b=gs(d,v);return y.createElement(ps,{id:m.id,key:m.id,onHeightUpdate:c.updateHeight,className:m.visible?xs:"",style:b},m.type==="custom"?Ye(m.message,m):n?n(m):y.createElement(fs,{toast:m,position:d}))}))},E=H;function Sa(e,t){return function(){return e.apply(t,arguments)}}const{toString:bs}=Object.prototype,{getPrototypeOf:Mt}=Object,{iterator:at,toStringTag:Ta}=Symbol,rt=(e=>t=>{const a=bs.call(t);return e[a]||(e[a]=a.slice(8,-1).toLowerCase())})(Object.create(null)),se=e=>(e=e.toLowerCase(),t=>rt(t)===e),st=e=>t=>typeof t===e,{isArray:Se}=Array,Ce=st("undefined");function Me(e){return e!==null&&!Ce(e)&&e.constructor!==null&&!Ce(e.constructor)&&ee(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const Ea=se("ArrayBuffer");function vs(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&Ea(e.buffer),t}const ws=st("string"),ee=st("function"),Da=st("number"),Ie=e=>e!==null&&typeof e=="object",js=e=>e===!0||e===!1,Be=e=>{if(rt(e)!=="object")return!1;const t=Mt(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Ta in e)&&!(at in e)},Ns=e=>{if(!Ie(e)||Me(e))return!1;try{return Object.keys(e).length===0&&Object.getPrototypeOf(e)===Object.prototype}catch{return!1}},ks=se("Date"),Cs=se("File"),Ss=se("Blob"),Ts=se("FileList"),Es=e=>Ie(e)&&ee(e.pipe),Ds=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||ee(e.append)&&((t=rt(e))==="formdata"||t==="object"&&ee(e.toString)&&e.toString()==="[object FormData]"))},Os=se("URLSearchParams"),[As,Rs,Ps,Ms]=["ReadableStream","Request","Response","Headers"].map(se),Is=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Fe(e,t,{allOwnKeys:a=!1}={}){if(e===null||typeof e>"u")return;let s,n;if(typeof e!="object"&&(e=[e]),Se(e))for(s=0,n=e.length;s<n;s++)t.call(null,e[s],s,e);else{if(Me(e))return;const o=a?Object.getOwnPropertyNames(e):Object.keys(e),i=o.length;let l;for(s=0;s<i;s++)l=o[s],t.call(null,e[l],l,e)}}function Oa(e,t){if(Me(e))return null;t=t.toLowerCase();const a=Object.keys(e);let s=a.length,n;for(;s-- >0;)if(n=a[s],t===n.toLowerCase())return n;return null}const be=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,Aa=e=>!Ce(e)&&e!==be;function bt(){const{caseless:e,skipUndefined:t}=Aa(this)&&this||{},a={},s=(n,o)=>{const i=e&&Oa(a,o)||o;Be(a[i])&&Be(n)?a[i]=bt(a[i],n):Be(n)?a[i]=bt({},n):Se(n)?a[i]=n.slice():(!t||!Ce(n))&&(a[i]=n)};for(let n=0,o=arguments.length;n<o;n++)arguments[n]&&Fe(arguments[n],s);return a}const Fs=(e,t,a,{allOwnKeys:s}={})=>(Fe(t,(n,o)=>{a&&ee(n)?e[o]=Sa(n,a):e[o]=n},{allOwnKeys:s}),e),$s=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),Ls=(e,t,a,s)=>{e.prototype=Object.create(t.prototype,s),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),a&&Object.assign(e.prototype,a)},Us=(e,t,a,s)=>{let n,o,i;const l={};if(t=t||{},e==null)return t;do{for(n=Object.getOwnPropertyNames(e),o=n.length;o-- >0;)i=n[o],(!s||s(i,e,t))&&!l[i]&&(t[i]=e[i],l[i]=!0);e=a!==!1&&Mt(e)}while(e&&(!a||a(e,t))&&e!==Object.prototype);return t},_s=(e,t,a)=>{e=String(e),(a===void 0||a>e.length)&&(a=e.length),a-=t.length;const s=e.indexOf(t,a);return s!==-1&&s===a},qs=e=>{if(!e)return null;if(Se(e))return e;let t=e.length;if(!Da(t))return null;const a=new Array(t);for(;t-- >0;)a[t]=e[t];return a},Bs=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&Mt(Uint8Array)),Ws=(e,t)=>{const s=(e&&e[at]).call(e);let n;for(;(n=s.next())&&!n.done;){const o=n.value;t.call(e,o[0],o[1])}},zs=(e,t)=>{let a;const s=[];for(;(a=e.exec(t))!==null;)s.push(a);return s},Hs=se("HTMLFormElement"),Ys=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(a,s,n){return s.toUpperCase()+n}),Bt=(({hasOwnProperty:e})=>(t,a)=>e.call(t,a))(Object.prototype),Vs=se("RegExp"),Ra=(e,t)=>{const a=Object.getOwnPropertyDescriptors(e),s={};Fe(a,(n,o)=>{let i;(i=t(n,o,e))!==!1&&(s[o]=i||n)}),Object.defineProperties(e,s)},Xs=e=>{Ra(e,(t,a)=>{if(ee(e)&&["arguments","caller","callee"].indexOf(a)!==-1)return!1;const s=e[a];if(ee(s)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+a+"'")})}})},Js=(e,t)=>{const a={},s=n=>{n.forEach(o=>{a[o]=!0})};return Se(e)?s(e):s(String(e).split(t)),a},Qs=()=>{},Ks=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;function Gs(e){return!!(e&&ee(e.append)&&e[Ta]==="FormData"&&e[at])}const Zs=e=>{const t=new Array(10),a=(s,n)=>{if(Ie(s)){if(t.indexOf(s)>=0)return;if(Me(s))return s;if(!("toJSON"in s)){t[n]=s;const o=Se(s)?[]:{};return Fe(s,(i,l)=>{const u=a(i,n+1);!Ce(u)&&(o[l]=u)}),t[n]=void 0,o}}return s};return a(e,0)},en=se("AsyncFunction"),tn=e=>e&&(Ie(e)||ee(e))&&ee(e.then)&&ee(e.catch),Pa=((e,t)=>e?setImmediate:t?((a,s)=>(be.addEventListener("message",({source:n,data:o})=>{n===be&&o===a&&s.length&&s.shift()()},!1),n=>{s.push(n),be.postMessage(a,"*")}))(`axios@${Math.random()}`,[]):a=>setTimeout(a))(typeof setImmediate=="function",ee(be.postMessage)),an=typeof queueMicrotask<"u"?queueMicrotask.bind(be):typeof process<"u"&&process.nextTick||Pa,rn=e=>e!=null&&ee(e[at]),g={isArray:Se,isArrayBuffer:Ea,isBuffer:Me,isFormData:Ds,isArrayBufferView:vs,isString:ws,isNumber:Da,isBoolean:js,isObject:Ie,isPlainObject:Be,isEmptyObject:Ns,isReadableStream:As,isRequest:Rs,isResponse:Ps,isHeaders:Ms,isUndefined:Ce,isDate:ks,isFile:Cs,isBlob:Ss,isRegExp:Vs,isFunction:ee,isStream:Es,isURLSearchParams:Os,isTypedArray:Bs,isFileList:Ts,forEach:Fe,merge:bt,extend:Fs,trim:Is,stripBOM:$s,inherits:Ls,toFlatObject:Us,kindOf:rt,kindOfTest:se,endsWith:_s,toArray:qs,forEachEntry:Ws,matchAll:zs,isHTMLForm:Hs,hasOwnProperty:Bt,hasOwnProp:Bt,reduceDescriptors:Ra,freezeMethods:Xs,toObjectSet:Js,toCamelCase:Ys,noop:Qs,toFiniteNumber:Ks,findKey:Oa,global:be,isContextDefined:Aa,isSpecCompliantForm:Gs,toJSONObject:Zs,isAsyncFn:en,isThenable:tn,setImmediate:Pa,asap:an,isIterable:rn};function A(e,t,a,s,n){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),a&&(this.config=a),s&&(this.request=s),n&&(this.response=n,this.status=n.status?n.status:null)}g.inherits(A,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:g.toJSONObject(this.config),code:this.code,status:this.status}}});const Ma=A.prototype,Ia={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{Ia[e]={value:e}});Object.defineProperties(A,Ia);Object.defineProperty(Ma,"isAxiosError",{value:!0});A.from=(e,t,a,s,n,o)=>{const i=Object.create(Ma);g.toFlatObject(e,i,function(m){return m!==Error.prototype},c=>c!=="isAxiosError");const l=e&&e.message?e.message:"Error",u=t==null&&e?e.code:t;return A.call(i,l,u,a,s,n),e&&i.cause==null&&Object.defineProperty(i,"cause",{value:e,configurable:!0}),i.name=e&&e.name||"Error",o&&Object.assign(i,o),i};const sn=null;function vt(e){return g.isPlainObject(e)||g.isArray(e)}function Fa(e){return g.endsWith(e,"[]")?e.slice(0,-2):e}function Wt(e,t,a){return e?e.concat(t).map(function(n,o){return n=Fa(n),!a&&o?"["+n+"]":n}).join(a?".":""):t}function nn(e){return g.isArray(e)&&!e.some(vt)}const on=g.toFlatObject(g,{},null,function(t){return/^is[A-Z]/.test(t)});function nt(e,t,a){if(!g.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,a=g.toFlatObject(a,{metaTokens:!0,dots:!1,indexes:!1},!1,function(w,h){return!g.isUndefined(h[w])});const s=a.metaTokens,n=a.visitor||m,o=a.dots,i=a.indexes,u=(a.Blob||typeof Blob<"u"&&Blob)&&g.isSpecCompliantForm(t);if(!g.isFunction(n))throw new TypeError("visitor must be a function");function c(f){if(f===null)return"";if(g.isDate(f))return f.toISOString();if(g.isBoolean(f))return f.toString();if(!u&&g.isBlob(f))throw new A("Blob is not supported. Use a Buffer instead.");return g.isArrayBuffer(f)||g.isTypedArray(f)?u&&typeof Blob=="function"?new Blob([f]):Buffer.from(f):f}function m(f,w,h){let p=f;if(f&&!h&&typeof f=="object"){if(g.endsWith(w,"{}"))w=s?w:w.slice(0,-2),f=JSON.stringify(f);else if(g.isArray(f)&&nn(f)||(g.isFileList(f)||g.endsWith(w,"[]"))&&(p=g.toArray(f)))return w=Fa(w),p.forEach(function(T,j){!(g.isUndefined(T)||T===null)&&t.append(i===!0?Wt([w],j,o):i===null?w:w+"[]",c(T))}),!1}return vt(f)?!0:(t.append(Wt(h,w,o),c(f)),!1)}const d=[],v=Object.assign(on,{defaultVisitor:m,convertValue:c,isVisitable:vt});function b(f,w){if(!g.isUndefined(f)){if(d.indexOf(f)!==-1)throw Error("Circular reference detected in "+w.join("."));d.push(f),g.forEach(f,function(p,S){(!(g.isUndefined(p)||p===null)&&n.call(t,p,g.isString(S)?S.trim():S,w,v))===!0&&b(p,w?w.concat(S):[S])}),d.pop()}}if(!g.isObject(e))throw new TypeError("data must be an object");return b(e),t}function zt(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(s){return t[s]})}function It(e,t){this._pairs=[],e&&nt(e,this,t)}const $a=It.prototype;$a.append=function(t,a){this._pairs.push([t,a])};$a.toString=function(t){const a=t?function(s){return t.call(this,s,zt)}:zt;return this._pairs.map(function(n){return a(n[0])+"="+a(n[1])},"").join("&")};function ln(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function La(e,t,a){if(!t)return e;const s=a&&a.encode||ln;g.isFunction(a)&&(a={serialize:a});const n=a&&a.serialize;let o;if(n?o=n(t,a):o=g.isURLSearchParams(t)?t.toString():new It(t,a).toString(s),o){const i=e.indexOf("#");i!==-1&&(e=e.slice(0,i)),e+=(e.indexOf("?")===-1?"?":"&")+o}return e}class Ht{constructor(){this.handlers=[]}use(t,a,s){return this.handlers.push({fulfilled:t,rejected:a,synchronous:s?s.synchronous:!1,runWhen:s?s.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){g.forEach(this.handlers,function(s){s!==null&&t(s)})}}const Ua={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},cn=typeof URLSearchParams<"u"?URLSearchParams:It,dn=typeof FormData<"u"?FormData:null,un=typeof Blob<"u"?Blob:null,mn={isBrowser:!0,classes:{URLSearchParams:cn,FormData:dn,Blob:un},protocols:["http","https","file","blob","url","data"]},Ft=typeof window<"u"&&typeof document<"u",wt=typeof navigator=="object"&&navigator||void 0,hn=Ft&&(!wt||["ReactNative","NativeScript","NS"].indexOf(wt.product)<0),fn=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",pn=Ft&&window.location.href||"http://localhost",gn=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Ft,hasStandardBrowserEnv:hn,hasStandardBrowserWebWorkerEnv:fn,navigator:wt,origin:pn},Symbol.toStringTag,{value:"Module"})),J={...gn,...mn};function xn(e,t){return nt(e,new J.classes.URLSearchParams,{visitor:function(a,s,n,o){return J.isNode&&g.isBuffer(a)?(this.append(s,a.toString("base64")),!1):o.defaultVisitor.apply(this,arguments)},...t})}function yn(e){return g.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function bn(e){const t={},a=Object.keys(e);let s;const n=a.length;let o;for(s=0;s<n;s++)o=a[s],t[o]=e[o];return t}function _a(e){function t(a,s,n,o){let i=a[o++];if(i==="__proto__")return!0;const l=Number.isFinite(+i),u=o>=a.length;return i=!i&&g.isArray(n)?n.length:i,u?(g.hasOwnProp(n,i)?n[i]=[n[i],s]:n[i]=s,!l):((!n[i]||!g.isObject(n[i]))&&(n[i]=[]),t(a,s,n[i],o)&&g.isArray(n[i])&&(n[i]=bn(n[i])),!l)}if(g.isFormData(e)&&g.isFunction(e.entries)){const a={};return g.forEachEntry(e,(s,n)=>{t(yn(s),n,a,0)}),a}return null}function vn(e,t,a){if(g.isString(e))try{return(t||JSON.parse)(e),g.trim(e)}catch(s){if(s.name!=="SyntaxError")throw s}return(a||JSON.stringify)(e)}const $e={transitional:Ua,adapter:["xhr","http","fetch"],transformRequest:[function(t,a){const s=a.getContentType()||"",n=s.indexOf("application/json")>-1,o=g.isObject(t);if(o&&g.isHTMLForm(t)&&(t=new FormData(t)),g.isFormData(t))return n?JSON.stringify(_a(t)):t;if(g.isArrayBuffer(t)||g.isBuffer(t)||g.isStream(t)||g.isFile(t)||g.isBlob(t)||g.isReadableStream(t))return t;if(g.isArrayBufferView(t))return t.buffer;if(g.isURLSearchParams(t))return a.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let l;if(o){if(s.indexOf("application/x-www-form-urlencoded")>-1)return xn(t,this.formSerializer).toString();if((l=g.isFileList(t))||s.indexOf("multipart/form-data")>-1){const u=this.env&&this.env.FormData;return nt(l?{"files[]":t}:t,u&&new u,this.formSerializer)}}return o||n?(a.setContentType("application/json",!1),vn(t)):t}],transformResponse:[function(t){const a=this.transitional||$e.transitional,s=a&&a.forcedJSONParsing,n=this.responseType==="json";if(g.isResponse(t)||g.isReadableStream(t))return t;if(t&&g.isString(t)&&(s&&!this.responseType||n)){const i=!(a&&a.silentJSONParsing)&&n;try{return JSON.parse(t,this.parseReviver)}catch(l){if(i)throw l.name==="SyntaxError"?A.from(l,A.ERR_BAD_RESPONSE,this,null,this.response):l}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:J.classes.FormData,Blob:J.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};g.forEach(["delete","get","head","post","put","patch"],e=>{$e.headers[e]={}});const wn=g.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),jn=e=>{const t={};let a,s,n;return e&&e.split(`
`).forEach(function(i){n=i.indexOf(":"),a=i.substring(0,n).trim().toLowerCase(),s=i.substring(n+1).trim(),!(!a||t[a]&&wn[a])&&(a==="set-cookie"?t[a]?t[a].push(s):t[a]=[s]:t[a]=t[a]?t[a]+", "+s:s)}),t},Yt=Symbol("internals");function Oe(e){return e&&String(e).trim().toLowerCase()}function We(e){return e===!1||e==null?e:g.isArray(e)?e.map(We):String(e)}function Nn(e){const t=Object.create(null),a=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let s;for(;s=a.exec(e);)t[s[1]]=s[2];return t}const kn=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function dt(e,t,a,s,n){if(g.isFunction(s))return s.call(this,t,a);if(n&&(t=a),!!g.isString(t)){if(g.isString(s))return t.indexOf(s)!==-1;if(g.isRegExp(s))return s.test(t)}}function Cn(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,a,s)=>a.toUpperCase()+s)}function Sn(e,t){const a=g.toCamelCase(" "+t);["get","set","has"].forEach(s=>{Object.defineProperty(e,s+a,{value:function(n,o,i){return this[s].call(this,t,n,o,i)},configurable:!0})})}let te=class{constructor(t){t&&this.set(t)}set(t,a,s){const n=this;function o(l,u,c){const m=Oe(u);if(!m)throw new Error("header name must be a non-empty string");const d=g.findKey(n,m);(!d||n[d]===void 0||c===!0||c===void 0&&n[d]!==!1)&&(n[d||u]=We(l))}const i=(l,u)=>g.forEach(l,(c,m)=>o(c,m,u));if(g.isPlainObject(t)||t instanceof this.constructor)i(t,a);else if(g.isString(t)&&(t=t.trim())&&!kn(t))i(jn(t),a);else if(g.isObject(t)&&g.isIterable(t)){let l={},u,c;for(const m of t){if(!g.isArray(m))throw TypeError("Object iterator must return a key-value pair");l[c=m[0]]=(u=l[c])?g.isArray(u)?[...u,m[1]]:[u,m[1]]:m[1]}i(l,a)}else t!=null&&o(a,t,s);return this}get(t,a){if(t=Oe(t),t){const s=g.findKey(this,t);if(s){const n=this[s];if(!a)return n;if(a===!0)return Nn(n);if(g.isFunction(a))return a.call(this,n,s);if(g.isRegExp(a))return a.exec(n);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,a){if(t=Oe(t),t){const s=g.findKey(this,t);return!!(s&&this[s]!==void 0&&(!a||dt(this,this[s],s,a)))}return!1}delete(t,a){const s=this;let n=!1;function o(i){if(i=Oe(i),i){const l=g.findKey(s,i);l&&(!a||dt(s,s[l],l,a))&&(delete s[l],n=!0)}}return g.isArray(t)?t.forEach(o):o(t),n}clear(t){const a=Object.keys(this);let s=a.length,n=!1;for(;s--;){const o=a[s];(!t||dt(this,this[o],o,t,!0))&&(delete this[o],n=!0)}return n}normalize(t){const a=this,s={};return g.forEach(this,(n,o)=>{const i=g.findKey(s,o);if(i){a[i]=We(n),delete a[o];return}const l=t?Cn(o):String(o).trim();l!==o&&delete a[o],a[l]=We(n),s[l]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const a=Object.create(null);return g.forEach(this,(s,n)=>{s!=null&&s!==!1&&(a[n]=t&&g.isArray(s)?s.join(", "):s)}),a}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,a])=>t+": "+a).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...a){const s=new this(t);return a.forEach(n=>s.set(n)),s}static accessor(t){const s=(this[Yt]=this[Yt]={accessors:{}}).accessors,n=this.prototype;function o(i){const l=Oe(i);s[l]||(Sn(n,i),s[l]=!0)}return g.isArray(t)?t.forEach(o):o(t),this}};te.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);g.reduceDescriptors(te.prototype,({value:e},t)=>{let a=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(s){this[a]=s}}});g.freezeMethods(te);function ut(e,t){const a=this||$e,s=t||a,n=te.from(s.headers);let o=s.data;return g.forEach(e,function(l){o=l.call(a,o,n.normalize(),t?t.status:void 0)}),n.normalize(),o}function qa(e){return!!(e&&e.__CANCEL__)}function Te(e,t,a){A.call(this,e??"canceled",A.ERR_CANCELED,t,a),this.name="CanceledError"}g.inherits(Te,A,{__CANCEL__:!0});function Ba(e,t,a){const s=a.config.validateStatus;!a.status||!s||s(a.status)?e(a):t(new A("Request failed with status code "+a.status,[A.ERR_BAD_REQUEST,A.ERR_BAD_RESPONSE][Math.floor(a.status/100)-4],a.config,a.request,a))}function Tn(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function En(e,t){e=e||10;const a=new Array(e),s=new Array(e);let n=0,o=0,i;return t=t!==void 0?t:1e3,function(u){const c=Date.now(),m=s[o];i||(i=c),a[n]=u,s[n]=c;let d=o,v=0;for(;d!==n;)v+=a[d++],d=d%e;if(n=(n+1)%e,n===o&&(o=(o+1)%e),c-i<t)return;const b=m&&c-m;return b?Math.round(v*1e3/b):void 0}}function Dn(e,t){let a=0,s=1e3/t,n,o;const i=(c,m=Date.now())=>{a=m,n=null,o&&(clearTimeout(o),o=null),e(...c)};return[(...c)=>{const m=Date.now(),d=m-a;d>=s?i(c,m):(n=c,o||(o=setTimeout(()=>{o=null,i(n)},s-d)))},()=>n&&i(n)]}const Ve=(e,t,a=3)=>{let s=0;const n=En(50,250);return Dn(o=>{const i=o.loaded,l=o.lengthComputable?o.total:void 0,u=i-s,c=n(u),m=i<=l;s=i;const d={loaded:i,total:l,progress:l?i/l:void 0,bytes:u,rate:c||void 0,estimated:c&&l&&m?(l-i)/c:void 0,event:o,lengthComputable:l!=null,[t?"download":"upload"]:!0};e(d)},a)},Vt=(e,t)=>{const a=e!=null;return[s=>t[0]({lengthComputable:a,total:e,loaded:s}),t[1]]},Xt=e=>(...t)=>g.asap(()=>e(...t)),On=J.hasStandardBrowserEnv?((e,t)=>a=>(a=new URL(a,J.origin),e.protocol===a.protocol&&e.host===a.host&&(t||e.port===a.port)))(new URL(J.origin),J.navigator&&/(msie|trident)/i.test(J.navigator.userAgent)):()=>!0,An=J.hasStandardBrowserEnv?{write(e,t,a,s,n,o,i){if(typeof document>"u")return;const l=[`${e}=${encodeURIComponent(t)}`];g.isNumber(a)&&l.push(`expires=${new Date(a).toUTCString()}`),g.isString(s)&&l.push(`path=${s}`),g.isString(n)&&l.push(`domain=${n}`),o===!0&&l.push("secure"),g.isString(i)&&l.push(`SameSite=${i}`),document.cookie=l.join("; ")},read(e){if(typeof document>"u")return null;const t=document.cookie.match(new RegExp("(?:^|; )"+e+"=([^;]*)"));return t?decodeURIComponent(t[1]):null},remove(e){this.write(e,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function Rn(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function Pn(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function Wa(e,t,a){let s=!Rn(t);return e&&(s||a==!1)?Pn(e,t):t}const Jt=e=>e instanceof te?{...e}:e;function we(e,t){t=t||{};const a={};function s(c,m,d,v){return g.isPlainObject(c)&&g.isPlainObject(m)?g.merge.call({caseless:v},c,m):g.isPlainObject(m)?g.merge({},m):g.isArray(m)?m.slice():m}function n(c,m,d,v){if(g.isUndefined(m)){if(!g.isUndefined(c))return s(void 0,c,d,v)}else return s(c,m,d,v)}function o(c,m){if(!g.isUndefined(m))return s(void 0,m)}function i(c,m){if(g.isUndefined(m)){if(!g.isUndefined(c))return s(void 0,c)}else return s(void 0,m)}function l(c,m,d){if(d in t)return s(c,m);if(d in e)return s(void 0,c)}const u={url:o,method:o,data:o,baseURL:i,transformRequest:i,transformResponse:i,paramsSerializer:i,timeout:i,timeoutMessage:i,withCredentials:i,withXSRFToken:i,adapter:i,responseType:i,xsrfCookieName:i,xsrfHeaderName:i,onUploadProgress:i,onDownloadProgress:i,decompress:i,maxContentLength:i,maxBodyLength:i,beforeRedirect:i,transport:i,httpAgent:i,httpsAgent:i,cancelToken:i,socketPath:i,responseEncoding:i,validateStatus:l,headers:(c,m,d)=>n(Jt(c),Jt(m),d,!0)};return g.forEach(Object.keys({...e,...t}),function(m){const d=u[m]||n,v=d(e[m],t[m],m);g.isUndefined(v)&&d!==l||(a[m]=v)}),a}const za=e=>{const t=we({},e);let{data:a,withXSRFToken:s,xsrfHeaderName:n,xsrfCookieName:o,headers:i,auth:l}=t;if(t.headers=i=te.from(i),t.url=La(Wa(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),l&&i.set("Authorization","Basic "+btoa((l.username||"")+":"+(l.password?unescape(encodeURIComponent(l.password)):""))),g.isFormData(a)){if(J.hasStandardBrowserEnv||J.hasStandardBrowserWebWorkerEnv)i.setContentType(void 0);else if(g.isFunction(a.getHeaders)){const u=a.getHeaders(),c=["content-type","content-length"];Object.entries(u).forEach(([m,d])=>{c.includes(m.toLowerCase())&&i.set(m,d)})}}if(J.hasStandardBrowserEnv&&(s&&g.isFunction(s)&&(s=s(t)),s||s!==!1&&On(t.url))){const u=n&&o&&An.read(o);u&&i.set(n,u)}return t},Mn=typeof XMLHttpRequest<"u",In=Mn&&function(e){return new Promise(function(a,s){const n=za(e);let o=n.data;const i=te.from(n.headers).normalize();let{responseType:l,onUploadProgress:u,onDownloadProgress:c}=n,m,d,v,b,f;function w(){b&&b(),f&&f(),n.cancelToken&&n.cancelToken.unsubscribe(m),n.signal&&n.signal.removeEventListener("abort",m)}let h=new XMLHttpRequest;h.open(n.method.toUpperCase(),n.url,!0),h.timeout=n.timeout;function p(){if(!h)return;const T=te.from("getAllResponseHeaders"in h&&h.getAllResponseHeaders()),x={data:!l||l==="text"||l==="json"?h.responseText:h.response,status:h.status,statusText:h.statusText,headers:T,config:e,request:h};Ba(function(D){a(D),w()},function(D){s(D),w()},x),h=null}"onloadend"in h?h.onloadend=p:h.onreadystatechange=function(){!h||h.readyState!==4||h.status===0&&!(h.responseURL&&h.responseURL.indexOf("file:")===0)||setTimeout(p)},h.onabort=function(){h&&(s(new A("Request aborted",A.ECONNABORTED,e,h)),h=null)},h.onerror=function(j){const x=j&&j.message?j.message:"Network Error",k=new A(x,A.ERR_NETWORK,e,h);k.event=j||null,s(k),h=null},h.ontimeout=function(){let j=n.timeout?"timeout of "+n.timeout+"ms exceeded":"timeout exceeded";const x=n.transitional||Ua;n.timeoutErrorMessage&&(j=n.timeoutErrorMessage),s(new A(j,x.clarifyTimeoutError?A.ETIMEDOUT:A.ECONNABORTED,e,h)),h=null},o===void 0&&i.setContentType(null),"setRequestHeader"in h&&g.forEach(i.toJSON(),function(j,x){h.setRequestHeader(x,j)}),g.isUndefined(n.withCredentials)||(h.withCredentials=!!n.withCredentials),l&&l!=="json"&&(h.responseType=n.responseType),c&&([v,f]=Ve(c,!0),h.addEventListener("progress",v)),u&&h.upload&&([d,b]=Ve(u),h.upload.addEventListener("progress",d),h.upload.addEventListener("loadend",b)),(n.cancelToken||n.signal)&&(m=T=>{h&&(s(!T||T.type?new Te(null,e,h):T),h.abort(),h=null)},n.cancelToken&&n.cancelToken.subscribe(m),n.signal&&(n.signal.aborted?m():n.signal.addEventListener("abort",m)));const S=Tn(n.url);if(S&&J.protocols.indexOf(S)===-1){s(new A("Unsupported protocol "+S+":",A.ERR_BAD_REQUEST,e));return}h.send(o||null)})},Fn=(e,t)=>{const{length:a}=e=e?e.filter(Boolean):[];if(t||a){let s=new AbortController,n;const o=function(c){if(!n){n=!0,l();const m=c instanceof Error?c:this.reason;s.abort(m instanceof A?m:new Te(m instanceof Error?m.message:m))}};let i=t&&setTimeout(()=>{i=null,o(new A(`timeout ${t} of ms exceeded`,A.ETIMEDOUT))},t);const l=()=>{e&&(i&&clearTimeout(i),i=null,e.forEach(c=>{c.unsubscribe?c.unsubscribe(o):c.removeEventListener("abort",o)}),e=null)};e.forEach(c=>c.addEventListener("abort",o));const{signal:u}=s;return u.unsubscribe=()=>g.asap(l),u}},$n=function*(e,t){let a=e.byteLength;if(a<t){yield e;return}let s=0,n;for(;s<a;)n=s+t,yield e.slice(s,n),s=n},Ln=async function*(e,t){for await(const a of Un(e))yield*$n(a,t)},Un=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:a,value:s}=await t.read();if(a)break;yield s}}finally{await t.cancel()}},Qt=(e,t,a,s)=>{const n=Ln(e,t);let o=0,i,l=u=>{i||(i=!0,s&&s(u))};return new ReadableStream({async pull(u){try{const{done:c,value:m}=await n.next();if(c){l(),u.close();return}let d=m.byteLength;if(a){let v=o+=d;a(v)}u.enqueue(new Uint8Array(m))}catch(c){throw l(c),c}},cancel(u){return l(u),n.return()}},{highWaterMark:2})},Kt=64*1024,{isFunction:Ue}=g,_n=(({Request:e,Response:t})=>({Request:e,Response:t}))(g.global),{ReadableStream:Gt,TextEncoder:Zt}=g.global,ea=(e,...t)=>{try{return!!e(...t)}catch{return!1}},qn=e=>{e=g.merge.call({skipUndefined:!0},_n,e);const{fetch:t,Request:a,Response:s}=e,n=t?Ue(t):typeof fetch=="function",o=Ue(a),i=Ue(s);if(!n)return!1;const l=n&&Ue(Gt),u=n&&(typeof Zt=="function"?(f=>w=>f.encode(w))(new Zt):async f=>new Uint8Array(await new a(f).arrayBuffer())),c=o&&l&&ea(()=>{let f=!1;const w=new a(J.origin,{body:new Gt,method:"POST",get duplex(){return f=!0,"half"}}).headers.has("Content-Type");return f&&!w}),m=i&&l&&ea(()=>g.isReadableStream(new s("").body)),d={stream:m&&(f=>f.body)};n&&["text","arrayBuffer","blob","formData","stream"].forEach(f=>{!d[f]&&(d[f]=(w,h)=>{let p=w&&w[f];if(p)return p.call(w);throw new A(`Response type '${f}' is not supported`,A.ERR_NOT_SUPPORT,h)})});const v=async f=>{if(f==null)return 0;if(g.isBlob(f))return f.size;if(g.isSpecCompliantForm(f))return(await new a(J.origin,{method:"POST",body:f}).arrayBuffer()).byteLength;if(g.isArrayBufferView(f)||g.isArrayBuffer(f))return f.byteLength;if(g.isURLSearchParams(f)&&(f=f+""),g.isString(f))return(await u(f)).byteLength},b=async(f,w)=>{const h=g.toFiniteNumber(f.getContentLength());return h??v(w)};return async f=>{let{url:w,method:h,data:p,signal:S,cancelToken:T,timeout:j,onDownloadProgress:x,onUploadProgress:k,responseType:D,headers:_,withCredentials:B="same-origin",fetchOptions:Y}=za(f),G=t||fetch;D=D?(D+"").toLowerCase():"text";let ne=Fn([S,T&&T.toAbortSignal()],j),ae=null;const N=ne&&ne.unsubscribe&&(()=>{ne.unsubscribe()});let C;try{if(k&&c&&h!=="get"&&h!=="head"&&(C=await b(_,p))!==0){let X=new a(w,{method:"POST",body:p,duplex:"half"}),K;if(g.isFormData(p)&&(K=X.headers.get("content-type"))&&_.setContentType(K),X.body){const[U,Z]=Vt(C,Ve(Xt(k)));p=Qt(X.body,Kt,U,Z)}}g.isString(B)||(B=B?"include":"omit");const O=o&&"credentials"in a.prototype,L={...Y,signal:ne,method:h.toUpperCase(),headers:_.normalize().toJSON(),body:p,duplex:"half",credentials:O?B:void 0};ae=o&&new a(w,L);let R=await(o?G(ae,Y):G(w,L));const q=m&&(D==="stream"||D==="response");if(m&&(x||q&&N)){const X={};["status","statusText","headers"].forEach(xe=>{X[xe]=R[xe]});const K=g.toFiniteNumber(R.headers.get("content-length")),[U,Z]=x&&Vt(K,Ve(Xt(x),!0))||[];R=new s(Qt(R.body,Kt,U,()=>{Z&&Z(),N&&N()}),X)}D=D||"text";let V=await d[g.findKey(d,D)||"text"](R,f);return!q&&N&&N(),await new Promise((X,K)=>{Ba(X,K,{data:V,headers:te.from(R.headers),status:R.status,statusText:R.statusText,config:f,request:ae})})}catch(O){throw N&&N(),O&&O.name==="TypeError"&&/Load failed|fetch/i.test(O.message)?Object.assign(new A("Network Error",A.ERR_NETWORK,f,ae),{cause:O.cause||O}):A.from(O,O&&O.code,f,ae)}}},Bn=new Map,Ha=e=>{let t=e&&e.env||{};const{fetch:a,Request:s,Response:n}=t,o=[s,n,a];let i=o.length,l=i,u,c,m=Bn;for(;l--;)u=o[l],c=m.get(u),c===void 0&&m.set(u,c=l?new Map:qn(t)),m=c;return c};Ha();const $t={http:sn,xhr:In,fetch:{get:Ha}};g.forEach($t,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const ta=e=>`- ${e}`,Wn=e=>g.isFunction(e)||e===null||e===!1;function zn(e,t){e=g.isArray(e)?e:[e];const{length:a}=e;let s,n;const o={};for(let i=0;i<a;i++){s=e[i];let l;if(n=s,!Wn(s)&&(n=$t[(l=String(s)).toLowerCase()],n===void 0))throw new A(`Unknown adapter '${l}'`);if(n&&(g.isFunction(n)||(n=n.get(t))))break;o[l||"#"+i]=n}if(!n){const i=Object.entries(o).map(([u,c])=>`adapter ${u} `+(c===!1?"is not supported by the environment":"is not available in the build"));let l=a?i.length>1?`since :
`+i.map(ta).join(`
`):" "+ta(i[0]):"as no adapter specified";throw new A("There is no suitable adapter to dispatch the request "+l,"ERR_NOT_SUPPORT")}return n}const Ya={getAdapter:zn,adapters:$t};function mt(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Te(null,e)}function aa(e){return mt(e),e.headers=te.from(e.headers),e.data=ut.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),Ya.getAdapter(e.adapter||$e.adapter,e)(e).then(function(s){return mt(e),s.data=ut.call(e,e.transformResponse,s),s.headers=te.from(s.headers),s},function(s){return qa(s)||(mt(e),s&&s.response&&(s.response.data=ut.call(e,e.transformResponse,s.response),s.response.headers=te.from(s.response.headers))),Promise.reject(s)})}const Va="1.13.2",ot={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{ot[e]=function(s){return typeof s===e||"a"+(t<1?"n ":" ")+e}});const ra={};ot.transitional=function(t,a,s){function n(o,i){return"[Axios v"+Va+"] Transitional option '"+o+"'"+i+(s?". "+s:"")}return(o,i,l)=>{if(t===!1)throw new A(n(i," has been removed"+(a?" in "+a:"")),A.ERR_DEPRECATED);return a&&!ra[i]&&(ra[i]=!0,console.warn(n(i," has been deprecated since v"+a+" and will be removed in the near future"))),t?t(o,i,l):!0}};ot.spelling=function(t){return(a,s)=>(console.warn(`${s} is likely a misspelling of ${t}`),!0)};function Hn(e,t,a){if(typeof e!="object")throw new A("options must be an object",A.ERR_BAD_OPTION_VALUE);const s=Object.keys(e);let n=s.length;for(;n-- >0;){const o=s[n],i=t[o];if(i){const l=e[o],u=l===void 0||i(l,o,e);if(u!==!0)throw new A("option "+o+" must be "+u,A.ERR_BAD_OPTION_VALUE);continue}if(a!==!0)throw new A("Unknown option "+o,A.ERR_BAD_OPTION)}}const ze={assertOptions:Hn,validators:ot},oe=ze.validators;let ve=class{constructor(t){this.defaults=t||{},this.interceptors={request:new Ht,response:new Ht}}async request(t,a){try{return await this._request(t,a)}catch(s){if(s instanceof Error){let n={};Error.captureStackTrace?Error.captureStackTrace(n):n=new Error;const o=n.stack?n.stack.replace(/^.+\n/,""):"";try{s.stack?o&&!String(s.stack).endsWith(o.replace(/^.+\n.+\n/,""))&&(s.stack+=`
`+o):s.stack=o}catch{}}throw s}}_request(t,a){typeof t=="string"?(a=a||{},a.url=t):a=t||{},a=we(this.defaults,a);const{transitional:s,paramsSerializer:n,headers:o}=a;s!==void 0&&ze.assertOptions(s,{silentJSONParsing:oe.transitional(oe.boolean),forcedJSONParsing:oe.transitional(oe.boolean),clarifyTimeoutError:oe.transitional(oe.boolean)},!1),n!=null&&(g.isFunction(n)?a.paramsSerializer={serialize:n}:ze.assertOptions(n,{encode:oe.function,serialize:oe.function},!0)),a.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?a.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:a.allowAbsoluteUrls=!0),ze.assertOptions(a,{baseUrl:oe.spelling("baseURL"),withXsrfToken:oe.spelling("withXSRFToken")},!0),a.method=(a.method||this.defaults.method||"get").toLowerCase();let i=o&&g.merge(o.common,o[a.method]);o&&g.forEach(["delete","get","head","post","put","patch","common"],f=>{delete o[f]}),a.headers=te.concat(i,o);const l=[];let u=!0;this.interceptors.request.forEach(function(w){typeof w.runWhen=="function"&&w.runWhen(a)===!1||(u=u&&w.synchronous,l.unshift(w.fulfilled,w.rejected))});const c=[];this.interceptors.response.forEach(function(w){c.push(w.fulfilled,w.rejected)});let m,d=0,v;if(!u){const f=[aa.bind(this),void 0];for(f.unshift(...l),f.push(...c),v=f.length,m=Promise.resolve(a);d<v;)m=m.then(f[d++],f[d++]);return m}v=l.length;let b=a;for(;d<v;){const f=l[d++],w=l[d++];try{b=f(b)}catch(h){w.call(this,h);break}}try{m=aa.call(this,b)}catch(f){return Promise.reject(f)}for(d=0,v=c.length;d<v;)m=m.then(c[d++],c[d++]);return m}getUri(t){t=we(this.defaults,t);const a=Wa(t.baseURL,t.url,t.allowAbsoluteUrls);return La(a,t.params,t.paramsSerializer)}};g.forEach(["delete","get","head","options"],function(t){ve.prototype[t]=function(a,s){return this.request(we(s||{},{method:t,url:a,data:(s||{}).data}))}});g.forEach(["post","put","patch"],function(t){function a(s){return function(o,i,l){return this.request(we(l||{},{method:t,headers:s?{"Content-Type":"multipart/form-data"}:{},url:o,data:i}))}}ve.prototype[t]=a(),ve.prototype[t+"Form"]=a(!0)});let Yn=class Xa{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let a;this.promise=new Promise(function(o){a=o});const s=this;this.promise.then(n=>{if(!s._listeners)return;let o=s._listeners.length;for(;o-- >0;)s._listeners[o](n);s._listeners=null}),this.promise.then=n=>{let o;const i=new Promise(l=>{s.subscribe(l),o=l}).then(n);return i.cancel=function(){s.unsubscribe(o)},i},t(function(o,i,l){s.reason||(s.reason=new Te(o,i,l),a(s.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const a=this._listeners.indexOf(t);a!==-1&&this._listeners.splice(a,1)}toAbortSignal(){const t=new AbortController,a=s=>{t.abort(s)};return this.subscribe(a),t.signal.unsubscribe=()=>this.unsubscribe(a),t.signal}static source(){let t;return{token:new Xa(function(n){t=n}),cancel:t}}};function Vn(e){return function(a){return e.apply(null,a)}}function Xn(e){return g.isObject(e)&&e.isAxiosError===!0}const jt={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(jt).forEach(([e,t])=>{jt[t]=e});function Ja(e){const t=new ve(e),a=Sa(ve.prototype.request,t);return g.extend(a,ve.prototype,t,{allOwnKeys:!0}),g.extend(a,t,null,{allOwnKeys:!0}),a.create=function(n){return Ja(we(e,n))},a}const z=Ja($e);z.Axios=ve;z.CanceledError=Te;z.CancelToken=Yn;z.isCancel=qa;z.VERSION=Va;z.toFormData=nt;z.AxiosError=A;z.Cancel=z.CanceledError;z.all=function(t){return Promise.all(t)};z.spread=Vn;z.isAxiosError=Xn;z.mergeConfig=we;z.AxiosHeaders=te;z.formToJSON=e=>_a(g.isHTMLForm(e)?new FormData(e):e);z.getAdapter=Ya.getAdapter;z.HttpStatusCode=jt;z.default=z;const{Axios:Ll,AxiosError:Ul,CanceledError:_l,isCancel:ql,CancelToken:Bl,VERSION:Wl,all:zl,Cancel:Hl,isAxiosError:Yl,spread:Vl,toFormData:Xl,AxiosHeaders:Jl,HttpStatusCode:Ql,formToJSON:Kl,getAdapter:Gl,mergeConfig:Zl}=z,Jn=window.location.hostname==="localhost"?"http://localhost:8080/api":`${window.location.origin}/api`,P=z.create({baseURL:Jn,headers:{"Content-Type":"application/json"}});P.interceptors.request.use(e=>(JSON.parse(localStorage.getItem("controle-se-user")||"null"),e),e=>Promise.reject(e));P.interceptors.response.use(e=>e.data,e=>{var t;return e.response?Promise.reject({message:((t=e.response.data)==null?void 0:t.message)||"Erro na requisição",status:e.response.status}):e.request?Promise.reject({message:"Erro de conexão. Verifique se o backend está rodando.",status:0}):Promise.reject({message:e.message||"Erro desconhecido",status:0})});const Qa=y.createContext(null),re=()=>{const e=y.useContext(Qa);if(!e)throw new Error("useAuth must be used within AuthProvider");return e},Qn=({children:e})=>{const[t,a]=y.useState(null),[s,n]=y.useState(!0);y.useEffect(()=>{const u=localStorage.getItem("controle-se-user");if(u)try{a(JSON.parse(u))}catch(c){console.error("Erro ao carregar usuário:",c),localStorage.removeItem("controle-se-user")}n(!1)},[]);const o=async(u,c)=>{try{const m=await P.post("/auth/login",{email:u,password:c});return m.success?(a(m.user),localStorage.setItem("controle-se-user",JSON.stringify(m.user)),E.success("Login realizado com sucesso!"),{success:!0}):(E.error(m.message||"Erro no login"),{success:!1,message:m.message})}catch(m){return E.error(m.message||"Erro ao fazer login"),{success:!1,message:m.message}}},i=async(u,c,m)=>{try{const d=await P.post("/auth/register",{name:u,email:c,password:m});return d.success?(E.success("Cadastro realizado com sucesso!"),{success:!0}):(E.error(d.message||"Erro no cadastro"),{success:!1,message:d.message})}catch(d){return E.error(d.message||"Erro ao fazer cadastro"),{success:!1,message:d.message}}},l=()=>{a(null),localStorage.removeItem("controle-se-user"),E.success("Logout realizado com sucesso!")};return r.jsx(Qa.Provider,{value:{user:t,loading:s,login:o,register:i,logout:l},children:e})},Ka=y.createContext(null),Ga=()=>{const e=y.useContext(Ka);if(!e)throw new Error("useData must be used within DataProvider");return e},Kn=({children:e})=>{const[t,a]=y.useState({}),[s,n]=y.useState({}),o=y.useCallback(m=>t[m],[t]),i=y.useCallback((m,d)=>{a(v=>({...v,[m]:d}))},[]),l=y.useCallback(async(m,d,v=!1)=>{if(s[m]&&!v||t[m]&&!v)return t[m];n(b=>({...b,[m]:!0}));try{const b=await d();return a(f=>({...f,[m]:b})),b}catch(b){throw console.error(`Erro ao carregar ${m}:`,b),b}finally{n(b=>({...b,[m]:!1}))}},[t,s]),u=y.useCallback(m=>{a(d=>{const v={...d};if(m)delete v[m];else return{};return v})},[]),c=y.useCallback(m=>!!t[m]&&!s[m],[t,s]);return r.jsx(Ka.Provider,{value:{getCachedData:o,setCachedData:i,fetchData:l,invalidateCache:u,isLoaded:c,loading:s},children:e})};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Gn={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zn=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),I=(e,t)=>{const a=y.forwardRef(({color:s="currentColor",size:n=24,strokeWidth:o=2,absoluteStrokeWidth:i,className:l="",children:u,...c},m)=>y.createElement("svg",{ref:m,...Gn,width:n,height:n,stroke:s,strokeWidth:i?Number(o)*24/Number(n):o,className:["lucide",`lucide-${Zn(e)}`,l].join(" "),...c},[...t.map(([d,v])=>y.createElement(d,v)),...Array.isArray(u)?u:[u]]));return a.displayName=`${e}`,a};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xe=I("ArrowDown",[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eo=I("ArrowLeftRight",[["path",{d:"M8 3 4 7l4 4",key:"9rb6wj"}],["path",{d:"M4 7h16",key:"6tx8e3"}],["path",{d:"m16 21 4-4-4-4",key:"siv7j2"}],["path",{d:"M20 17H4",key:"h6l3hr"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Je=I("ArrowUp",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Za=I("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const to=I("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ao=I("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ro=I("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const er=I("FileText",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const so=I("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nt=I("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const no=I("Landmark",[["line",{x1:"3",x2:"21",y1:"22",y2:"22",key:"j8o0r"}],["line",{x1:"6",x2:"6",y1:"18",y2:"11",key:"10tf0k"}],["line",{x1:"10",x2:"10",y1:"18",y2:"11",key:"54lgf6"}],["line",{x1:"14",x2:"14",y1:"18",y2:"11",key:"380y"}],["line",{x1:"18",x2:"18",y1:"18",y2:"11",key:"1kevvc"}],["polygon",{points:"12 2 20 7 4 7",key:"jkujk7"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oo=I("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sa=I("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const io=I("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const na=I("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lo=I("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const co=I("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tr=I("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const it=I("PenSquare",[["path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1qinfi"}],["path",{d:"M18.5 2.5a2.12 2.12 0 0 1 3 3L12 15l-4 1 1-4Z",key:"w2jsv5"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uo=I("Pen",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ar=I("PieChart",[["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}],["path",{d:"M22 12A10 10 0 0 0 12 2v10z",key:"1rfc4y"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ee=I("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rr=I("Scale",[["path",{d:"m16 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"7g6ntu"}],["path",{d:"m2 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"ijws7r"}],["path",{d:"M7 21h10",key:"1b0cd5"}],["path",{d:"M12 3v18",key:"108xh3"}],["path",{d:"M3 7h2c2 0 5-1 7-2 2 1 5 2 7 2h2",key:"3gwbw2"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sr=I("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Re=I("Tag",[["path",{d:"M12 2H2v10l9.29 9.29c.94.94 2.48.94 3.42 0l6.58-6.58c.94-.94.94-2.48 0-3.42L12 2Z",key:"14b2ls"}],["path",{d:"M7 7h.01",key:"7u93v4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const De=I("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lt=I("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nr=I("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ut=I("Wallet",[["path",{d:"M21 12V7H5a2 2 0 0 1 0-4h14v4",key:"195gfw"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h16v-5",key:"195n9w"}],["path",{d:"M18 12a2 2 0 0 0 0 4h4v-4Z",key:"vllfpd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const or=I("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),ir=y.createContext(null),lr=()=>{const e=y.useContext(ir);if(!e)throw new Error("useTheme must be used within ThemeProvider");return e};function mo({children:e}){const[t,a]=y.useState(()=>{const n=localStorage.getItem("theme");return n||(window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light")});y.useEffect(()=>{const n=window.document.documentElement;n.classList.remove("light","dark"),n.classList.add(t),localStorage.setItem("theme",t)},[t]),y.useEffect(()=>{const n=window.matchMedia("(prefers-color-scheme: dark)"),o=i=>{localStorage.getItem("theme")||a(i.matches?"dark":"light")};return n.addEventListener("change",o),()=>n.removeEventListener("change",o)},[]);const s=()=>{a(n=>n==="dark"?"light":"dark")};return r.jsx(ir.Provider,{value:{theme:t,toggleTheme:s},children:e})}function ho(){const[e,t]=y.useState("login"),[a,s]=y.useState(!1),{login:n,register:o}=re(),i=Rt(),{theme:l,toggleTheme:u}=lr(),[c,m]=y.useState(""),[d,v]=y.useState(""),[b,f]=y.useState(""),[w,h]=y.useState(""),[p,S]=y.useState(""),T=async x=>{x.preventDefault(),s(!0);const k=await n(c,d);s(!1),k.success&&i("/dashboard")},j=async x=>{x.preventDefault(),s(!0);const k=await o(b,w,p);s(!1),k.success&&(t("login"),f(""),h(""),S(""))};return r.jsxs("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-primary-50 via-white to-primary-50 dark:from-gray-900 dark:via-gray-800 dark:to-gray-900 p-4",children:[r.jsx("div",{className:"absolute top-4 right-4",children:r.jsx("button",{onClick:u,className:"p-2 rounded-lg bg-white dark:bg-gray-800 shadow-md hover:shadow-lg transition-all","aria-label":"Alternar tema",children:l==="dark"?r.jsx(sr,{className:"w-5 h-5 text-yellow-500"}):r.jsx(tr,{className:"w-5 h-5 text-gray-700"})})}),r.jsxs("div",{className:"w-full max-w-md",children:[r.jsxs("div",{className:"text-center mb-8",children:[r.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-primary-600 rounded-2xl mb-4 shadow-lg",children:r.jsx(Ut,{className:"w-8 h-8 text-white"})}),r.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-2",children:"Controle-se"}),r.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Sistema de Controle Financeiro Pessoal"})]}),r.jsxs("div",{className:"card",children:[r.jsxs("div",{className:"flex gap-2 mb-6",children:[r.jsx("button",{onClick:()=>t("login"),className:`flex-1 py-2 px-4 rounded-lg font-medium transition-all ${e==="login"?"bg-primary-600 text-white shadow-md":"bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600"}`,children:"Entrar"}),r.jsx("button",{onClick:()=>t("register"),className:`flex-1 py-2 px-4 rounded-lg font-medium transition-all ${e==="register"?"bg-primary-600 text-white shadow-md":"bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600"}`,children:"Cadastrar"})]}),e==="login"&&r.jsxs("form",{onSubmit:T,className:"space-y-4",children:[r.jsxs("div",{children:[r.jsxs("label",{className:"label",children:[r.jsx(na,{className:"inline w-4 h-4 mr-2"}),"Email"]}),r.jsx("input",{type:"email",value:c,onChange:x=>m(x.target.value),className:"input",placeholder:"seu@email.com",required:!0})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"label",children:[r.jsx(sa,{className:"inline w-4 h-4 mr-2"}),"Senha"]}),r.jsx("input",{type:"password",value:d,onChange:x=>v(x.target.value),className:"input",placeholder:"••••••••",required:!0})]}),r.jsx("button",{type:"submit",disabled:a,className:"btn-primary w-full justify-center",children:a?r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-2 border-white border-t-transparent"}),"Entrando..."]}):"Entrar"})]}),e==="register"&&r.jsxs("form",{onSubmit:j,className:"space-y-4",children:[r.jsxs("div",{children:[r.jsxs("label",{className:"label",children:[r.jsx(nr,{className:"inline w-4 h-4 mr-2"}),"Nome"]}),r.jsx("input",{type:"text",value:b,onChange:x=>f(x.target.value),className:"input",placeholder:"Seu nome completo",required:!0})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"label",children:[r.jsx(na,{className:"inline w-4 h-4 mr-2"}),"Email"]}),r.jsx("input",{type:"email",value:w,onChange:x=>h(x.target.value),className:"input",placeholder:"seu@email.com",required:!0})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"label",children:[r.jsx(sa,{className:"inline w-4 h-4 mr-2"}),"Senha"]}),r.jsx("input",{type:"password",value:p,onChange:x=>S(x.target.value),className:"input",placeholder:"••••••••",required:!0})]}),r.jsx("button",{type:"submit",disabled:a,className:"btn-primary w-full justify-center",children:a?r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-2 border-white border-t-transparent"}),"Cadastrando..."]}):"Cadastrar"})]})]})]})]})}function fo({onMenuClick:e}){const{user:t,logout:a}=re(),{theme:s,toggleTheme:n}=lr(),o=Rt(),i=()=>{a(),o("/login")};return r.jsx("header",{className:"bg-white dark:bg-gray-800 border-b border-gray-200 dark:border-gray-700 sticky top-0 z-40 shadow-sm",children:r.jsxs("div",{className:"px-4 lg:px-6 py-4 flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("button",{onClick:e,className:"lg:hidden p-2 -ml-2 text-gray-600 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg","aria-label":"Menu",children:r.jsx(lo,{className:"w-6 h-6"})}),r.jsx("div",{className:"w-10 h-10 bg-primary-600 rounded-xl flex items-center justify-center shadow-md shrink-0",children:r.jsx(Ut,{className:"w-6 h-6 text-white"})}),r.jsx("h1",{className:"text-xl font-bold text-gray-900 dark:text-white hidden sm:block",children:"Controle-se"})]}),r.jsxs("div",{className:"flex items-center gap-2 lg:gap-4",children:[r.jsx("button",{onClick:n,className:"p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors","aria-label":"Alternar tema",children:s==="dark"?r.jsx(sr,{className:"w-5 h-5 text-yellow-500"}):r.jsx(tr,{className:"w-5 h-5 text-gray-700"})}),r.jsxs("div",{className:"flex items-center gap-3 px-3 py-2 bg-gray-50 dark:bg-gray-700 rounded-lg",children:[r.jsx("div",{className:"w-8 h-8 bg-primary-600 rounded-full flex items-center justify-center shrink-0",children:r.jsx(nr,{className:"w-4 h-4 text-white"})}),r.jsx("span",{className:"text-sm font-medium text-gray-900 dark:text-white hidden sm:block",children:(t==null?void 0:t.name)||"Usuário"})]}),r.jsx("button",{onClick:i,className:"btn-secondary p-2",title:"Sair",children:r.jsx(io,{className:"w-4 h-4"})})]})]})})}const po=[{id:"overview",label:"Visão Geral",icon:oo},{id:"categories",label:"Categorias",icon:Re},{id:"accounts",label:"Contas",icon:Za},{id:"transactions",label:"Transações",icon:eo},{id:"budgets",label:"Orçamentos",icon:Lt},{id:"tags",label:"Tags",icon:Re},{id:"reports",label:"Relatórios",icon:er},{id:"investments",label:"Investimentos",icon:ar}];function go({activeSection:e,onSectionChange:t,isOpen:a,onClose:s}){Tr(),Rt();const n=o=>{t(o),localStorage.setItem("controle-se-active-section",o)};return r.jsxs(r.Fragment,{children:[a&&r.jsx("div",{className:"fixed inset-0 bg-black/50 z-40 lg:hidden",onClick:s}),r.jsxs("aside",{className:`
        fixed lg:static inset-y-0 left-0 z-50
        w-64 bg-white dark:bg-gray-800 
        border-r border-gray-200 dark:border-gray-700 
        h-full lg:h-[calc(100vh-73px)] 
        overflow-y-auto transition-transform duration-300 ease-in-out
        ${a?"translate-x-0":"-translate-x-full lg:translate-x-0"}
      `,children:[r.jsxs("div",{className:"flex items-center justify-between p-4 lg:hidden border-b border-gray-200 dark:border-gray-700",children:[r.jsx("span",{className:"font-bold text-lg text-gray-900 dark:text-white",children:"Menu"}),r.jsx("button",{onClick:s,className:"p-2 text-gray-500 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg",children:r.jsx(or,{className:"w-5 h-5"})})]}),r.jsx("nav",{className:"p-4 space-y-1",children:po.map(o=>{const i=o.icon,l=e===o.id;return r.jsxs("button",{onClick:()=>n(o.id),className:`w-full flex items-center gap-3 px-4 py-3 rounded-lg transition-all duration-200 ${l?"bg-primary-600 text-white shadow-md":"text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700"}`,children:[r.jsx(i,{className:"w-5 h-5"}),r.jsx("span",{className:"font-medium",children:o.label})]},o.id)})})]})]})}const M=e=>e==null||isNaN(e)?"R$ 0,00":new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(e),Ne=e=>{if(!e)return"";const t=new Date(e);return new Intl.DateTimeFormat("pt-BR",{day:"2-digit",month:"2-digit",year:"numeric"}).format(t)};function de({title:e,amount:t,icon:a,type:s="default",subtitle:n,onClick:o,className:i=""}){const l={income:"bg-green-50 dark:bg-green-900/20 border-green-200 dark:border-green-800",expense:"bg-red-50 dark:bg-red-900/20 border-red-200 dark:border-red-800",balance:"bg-blue-50 dark:bg-blue-900/20 border-blue-200 dark:border-blue-800",default:"bg-white dark:bg-gray-800 border-gray-200 dark:border-gray-700"},u={income:"bg-green-500 text-white",expense:"bg-red-500 text-white",balance:"bg-blue-500 text-white",default:"bg-primary-500 text-white"};return r.jsx("div",{className:`card border-2 ${l[s]} ${o?"cursor-pointer hover:scale-105":""} ${i}`,onClick:o,children:r.jsxs("div",{className:"flex items-start justify-between",children:[r.jsxs("div",{className:"flex-1",children:[r.jsx("div",{className:"flex items-center gap-2 mb-2",children:r.jsx("h3",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:e})}),r.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-1",children:t}),n&&r.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:n})]}),a&&r.jsx("div",{className:`w-12 h-12 rounded-xl flex items-center justify-center ${u[s]} shadow-md`,children:r.jsx(a,{className:"w-6 h-6"})})]})})}function he({isOpen:e,onClose:t,title:a,children:s,size:n="md"}){if(y.useEffect(()=>(e?document.body.style.overflow="hidden":document.body.style.overflow="unset",()=>{document.body.style.overflow="unset"}),[e]),!e)return null;const o={sm:"max-w-md",md:"max-w-lg",lg:"max-w-2xl",xl:"max-w-4xl"};return r.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black bg-opacity-50 backdrop-blur-sm animate-fade-in",onClick:t,children:r.jsxs("div",{className:`bg-white dark:bg-gray-800 rounded-xl shadow-2xl w-full ${o[n]} max-h-[90vh] overflow-visible animate-slide-up relative`,onClick:i=>i.stopPropagation(),style:{zIndex:50},children:[r.jsxs("div",{className:"sticky top-0 bg-white dark:bg-gray-800 border-b border-gray-200 dark:border-gray-700 px-6 py-4 flex items-center justify-between z-10",children:[r.jsx("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:a}),r.jsx("button",{onClick:t,className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors",children:r.jsx(or,{className:"w-5 h-5 text-gray-500 dark:text-gray-400"})})]}),r.jsx("div",{className:"p-6 overflow-y-auto max-h-[calc(90vh-80px)]",children:s})]})})}Ct.register(St,Tt,Et,Dt,Ot,ya,At);function oa(){const{user:e}=re(),{fetchData:t,getCachedData:a}=Ga(),[s,n]=y.useState(!1),[o,i]=y.useState("month"),[l,u]=y.useState(null),[c,m]=y.useState([]),[d,v]=y.useState(!1),[b,f]=y.useState(!1);y.useEffect(()=>{if(!e)return;(async()=>{const p=`overview-${e.id}-${o}`,S=`recent-transactions-${e.id}`,T=a(p),j=a(S);if(T&&j){u(T),m(j);return}n(!0);try{const[x,k]=await Promise.all([t(p,async()=>{const D=await P.get(`/dashboard/overview?userId=${e.id}`);return D.success?D.data:null}),t(S,async()=>{const D=await P.get(`/transactions/recent?userId=${e.id}`);return D.success?D.data||[]:[]})]);x&&u(x),k&&m(k)}catch(x){console.error("Erro ao carregar dados:",x)}finally{n(!1)}})()},[e,o,t,a]);const w=l!=null&&l.categoryBreakdown?{labels:l.categoryBreakdown.map(h=>h.name),datasets:[{data:l.categoryBreakdown.map(h=>h.value),backgroundColor:["#ef4444","#f59e0b","#3b82f6","#8b5cf6","#ec4899","#14b8a6","#f97316","#6366f1"],borderWidth:2,borderColor:"#fff"}]}:null;return s?r.jsx("div",{className:"flex items-center justify-center h-64",children:r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-4 border-primary-600 border-t-transparent"})}):r.jsxs("div",{className:"space-y-6 animate-fade-in",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h2",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:"Visão Geral"}),r.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-1",children:"Resumo das suas finanças"})]}),r.jsxs("select",{value:o,onChange:h=>i(h.target.value),className:"input w-auto",children:[r.jsx("option",{value:"month",children:"Este Mês"}),r.jsx("option",{value:"year",children:"Este Ano"}),r.jsx("option",{value:"all",children:"Todos os Períodos"})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[r.jsx(de,{title:"Receitas",amount:M((l==null?void 0:l.totalIncome)||0),icon:Je,type:"income"}),r.jsx(de,{title:"Gastos",amount:M((l==null?void 0:l.totalExpense)||0),icon:Xe,type:"expense"}),r.jsx(de,{title:r.jsxs("span",{className:"flex items-center gap-2",children:["Saldo",r.jsx(Nt,{className:"w-4 h-4 cursor-pointer opacity-70 hover:opacity-100",onClick:h=>{h.stopPropagation(),v(!0)}})]}),amount:M((l==null?void 0:l.balance)||0),icon:rr,type:"balance"}),r.jsx(de,{title:r.jsxs("span",{className:"flex items-center gap-2",children:["Patrimônio",r.jsx(Nt,{className:"w-4 h-4 cursor-pointer opacity-70 hover:opacity-100",onClick:h=>{h.stopPropagation(),f(!0)}})]}),amount:M((l==null?void 0:l.netWorth)||0),icon:no,type:"default"})]}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[r.jsxs("div",{className:"card",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Gastos por Categoria"}),w?r.jsx("div",{className:"h-64",children:r.jsx(He,{data:w,options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"bottom",labels:{padding:15,usePointStyle:!0,color:"#6b7280"}},tooltip:{callbacks:{label:h=>{const p=h.label||"",S=M(h.parsed);return`${p}: ${S}`}}}}}})}):r.jsx("p",{className:"text-center text-gray-500 py-8",children:"Nenhum dado disponível"})]}),r.jsxs("div",{className:"card",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Transações Recentes"}),r.jsx("div",{className:"space-y-3 max-h-64 overflow-y-auto",children:c.length>0?c.map(h=>r.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-700 rounded-lg",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:`w-10 h-10 rounded-lg flex items-center justify-center ${h.type==="income"?"bg-green-100 dark:bg-green-900/30 text-green-600":"bg-red-100 dark:bg-red-900/30 text-red-600"}`,children:h.type==="income"?r.jsx(Je,{className:"w-5 h-5"}):r.jsx(Xe,{className:"w-5 h-5"})}),r.jsxs("div",{children:[r.jsx("p",{className:"font-medium text-gray-900 dark:text-white",children:h.description||"Sem descrição"}),r.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:Ne(h.date)})]})]}),r.jsxs("div",{className:`font-semibold ${h.type==="income"?"text-green-600 dark:text-green-400":"text-red-600 dark:text-red-400"}`,children:[h.type==="income"?"+":"-",M(h.value||0)]})]},h.id)):r.jsx("p",{className:"text-center text-gray-500 py-8",children:"Nenhuma transação recente"})})]})]}),r.jsx(he,{isOpen:d,onClose:()=>v(!1),title:"Informação: Saldo",children:r.jsxs("div",{className:"space-y-2",children:[r.jsxs("p",{children:["O ",r.jsx("strong",{children:"Saldo"})," representa a soma de todas as suas contas disponíveis para uso imediato (Corrente, Poupança, Dinheiro, etc.)."]}),r.jsxs("p",{children:["Contas do tipo ",r.jsx("strong",{children:"Investimento"})," não são contabilizadas neste valor."]})]})}),r.jsx(he,{isOpen:b,onClose:()=>f(!1),title:"Informação: Patrimônio",children:r.jsxs("div",{className:"space-y-2",children:[r.jsxs("p",{children:["O ",r.jsx("strong",{children:"Patrimônio"})," representa o valor total acumulado em todas as suas contas cadastradas no sistema."]}),r.jsxs("p",{children:["Este valor inclui o saldo de todas as contas, inclusive as de"," ",r.jsx("strong",{children:"Investimento"}),"."]})]})})]})}function xo(){const{user:e}=re(),[t,a]=y.useState([]),[s,n]=y.useState(!0),[o,i]=y.useState(!1),[l,u]=y.useState(null),[c,m]=y.useState({nome:"",budget:""});y.useEffect(()=>{d()},[e]);const d=async()=>{if(e){n(!0);try{const h=await P.get(`/categories?userId=${e.id}`);h.success&&a(h.data||[])}catch{E.error("Erro ao carregar categorias")}finally{n(!1)}}},v=async h=>{if(h.preventDefault(),!c.nome.trim()){E.error("Nome da categoria é obrigatório");return}try{l?(await P.put(`/categories/${l.idCategoria}`,{nome:c.nome,userId:e.id})).success&&(E.success("Categoria atualizada!"),d(),w()):(await P.post("/categories",{nome:c.nome,userId:e.id,budget:c.budget?parseFloat(c.budget):null})).success&&(E.success("Categoria criada!"),d(),w())}catch(p){E.error(p.message||"Erro ao salvar categoria")}},b=h=>{u(h),m({nome:h.nome,budget:""}),i(!0)},f=async h=>{if(confirm("Tem certeza que deseja excluir esta categoria?"))try{(await P.delete(`/categories/${h}?userId=${e.id}`)).success&&(E.success("Categoria excluída!"),d())}catch(p){E.error(p.message||"Erro ao excluir categoria")}},w=()=>{i(!1),u(null),m({nome:"",budget:""})};return s?r.jsx("div",{className:"flex items-center justify-center h-64",children:r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-4 border-primary-600 border-t-transparent"})}):r.jsxs("div",{className:"space-y-6 animate-fade-in",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h2",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:"Categorias"}),r.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-1",children:"Organize suas transações por categorias"})]}),r.jsxs("button",{onClick:()=>i(!0),className:"btn-primary",children:[r.jsx(Ee,{className:"w-4 h-4"}),"Nova Categoria"]})]}),t.length===0?r.jsxs("div",{className:"card text-center py-12",children:[r.jsx(Re,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),r.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Nenhuma categoria cadastrada"})]}):r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:t.map(h=>r.jsxs("div",{className:"card",children:[r.jsx("div",{className:"flex items-center justify-between mb-4",children:r.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:h.nome})}),r.jsxs("div",{className:"flex gap-2",children:[r.jsxs("button",{onClick:()=>b(h),className:"btn-secondary flex-1",children:[r.jsx(it,{className:"w-4 h-4"}),"Editar"]}),r.jsxs("button",{onClick:()=>f(h.idCategoria),className:"btn-danger flex-1",children:[r.jsx(De,{className:"w-4 h-4"}),"Excluir"]})]})]},h.idCategoria))}),r.jsx(he,{isOpen:o,onClose:w,title:l?"Editar Categoria":"Nova Categoria",children:r.jsxs("form",{onSubmit:v,className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"label",children:"Nome da Categoria"}),r.jsx("input",{type:"text",value:c.nome,onChange:h=>m({...c,nome:h.target.value}),className:"input",placeholder:"Ex: Alimentação, Transporte...",required:!0})]}),!l&&r.jsxs("div",{children:[r.jsx("label",{className:"label",children:"Orçamento Mensal (Opcional)"}),r.jsxs("div",{className:"relative",children:[r.jsx("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-500",children:"R$"}),r.jsx("input",{type:"number",step:"0.01",min:"0",value:c.budget,onChange:h=>m({...c,budget:h.target.value}),className:"input pl-10",placeholder:"0,00"})]})]}),r.jsxs("div",{className:"flex gap-2 justify-end",children:[r.jsx("button",{type:"button",onClick:w,className:"btn-secondary",children:"Cancelar"}),r.jsx("button",{type:"submit",className:"btn-primary",children:l?"Atualizar":"Criar"})]})]})})]})}function yo(){const{user:e}=re(),[t,a]=y.useState([]),[s,n]=y.useState(!0),[o,i]=y.useState(!1),[l,u]=y.useState(null),[c,m]=y.useState({nome:"",tipo:"Corrente",saldoInicial:""});y.useEffect(()=>{d()},[e]);const d=async()=>{if(e){n(!0);try{const h=await P.get(`/accounts?userId=${e.id}`);h.success&&a(h.data||[])}catch{E.error("Erro ao carregar contas")}finally{n(!1)}}},v=async h=>{if(h.preventDefault(),!c.nome.trim()){E.error("Nome da conta é obrigatório");return}try{const p={nome:c.nome,tipo:c.tipo,saldoInicial:parseFloat(c.saldoInicial)||0,userId:e.id};l?(await P.put(`/accounts/${l.idConta}`,p)).success&&(E.success("Conta atualizada!"),d(),w()):(await P.post("/accounts",p)).success&&(E.success("Conta criada!"),d(),w())}catch(p){E.error(p.message||"Erro ao salvar conta")}},b=h=>{var p;u(h),m({nome:h.nome,tipo:h.tipo,saldoInicial:((p=h.saldoAtual)==null?void 0:p.toString())||""}),i(!0)},f=async h=>{if(confirm("Tem certeza que deseja excluir esta conta?"))try{(await P.delete(`/accounts/${h}?userId=${e.id}`)).success&&(E.success("Conta excluída!"),d())}catch(p){E.error(p.message||"Erro ao excluir conta")}},w=()=>{i(!1),u(null),m({nome:"",tipo:"Corrente",saldoInicial:""})};return s?r.jsx("div",{className:"flex items-center justify-center h-64",children:r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-4 border-primary-600 border-t-transparent"})}):r.jsxs("div",{className:"space-y-6 animate-fade-in",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h2",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:"Contas"}),r.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-1",children:"Gerencie suas contas bancárias"})]}),r.jsxs("button",{onClick:()=>i(!0),className:"btn-primary",children:[r.jsx(Ee,{className:"w-4 h-4"}),"Nova Conta"]})]}),t.length===0?r.jsxs("div",{className:"card text-center py-12",children:[r.jsx(Za,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),r.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Nenhuma conta cadastrada"})]}):r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:t.map(h=>r.jsxs("div",{className:"card",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-2",children:h.nome}),r.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-1",children:h.tipo}),r.jsx("p",{className:"text-2xl font-bold text-primary-600 dark:text-primary-400 mb-4",children:M(h.saldoAtual||0)}),r.jsxs("div",{className:"flex gap-2",children:[r.jsxs("button",{onClick:()=>b(h),className:"btn-secondary flex-1",children:[r.jsx(it,{className:"w-4 h-4"}),"Editar"]}),r.jsxs("button",{onClick:()=>f(h.idConta),className:"btn-danger flex-1",children:[r.jsx(De,{className:"w-4 h-4"}),"Excluir"]})]})]},h.idConta))}),r.jsx(he,{isOpen:o,onClose:w,title:l?"Editar Conta":"Nova Conta",children:r.jsxs("form",{onSubmit:v,className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"label",children:"Nome da Conta"}),r.jsx("input",{type:"text",value:c.nome,onChange:h=>m({...c,nome:h.target.value}),className:"input",placeholder:"Ex: Itaú, Caixa, Binance, Avenue...",required:!0})]}),r.jsxs("div",{children:[r.jsx("label",{className:"label",children:"Tipo"}),r.jsxs("select",{value:c.tipo,onChange:h=>m({...c,tipo:h.target.value}),className:"input",children:[r.jsx("option",{value:"Corrente",children:"Corrente"}),r.jsx("option",{value:"Poupança",children:"Poupança"}),r.jsx("option",{value:"Investimento",children:"Investimento"}),r.jsx("option",{value:"Dinheiro",children:"Dinheiro"}),r.jsx("option",{value:"Cartão de Crédito",children:"Cartão de Crédito"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"label",children:"Saldo Inicial"}),r.jsx("input",{type:"number",step:"0.01",value:c.saldoInicial,onChange:h=>m({...c,saldoInicial:h.target.value}),className:"input",placeholder:"0.00"})]}),r.jsxs("div",{className:"flex gap-2 justify-end",children:[r.jsx("button",{type:"button",onClick:w,className:"btn-secondary",children:"Cancelar"}),r.jsx("button",{type:"submit",className:"btn-primary",children:l?"Atualizar":"Criar"})]})]})})]})}function bo(){const{user:e}=re(),{invalidateCache:t}=Ga(),[a,s]=y.useState([]),[n,o]=y.useState(!0),[i,l]=y.useState(!1),[u,c]=y.useState(!1),[m,d]=y.useState([]),[v,b]=y.useState([]),[f,w]=y.useState([]),[h,p]=y.useState({category:"",tag:"",date:""});y.useEffect(()=>{e&&S()},[e,h]);const S=async()=>{o(!0);try{const[j,x,k,D]=await Promise.all([P.get(`/transactions?userId=${e.id}`),P.get(`/categories?userId=${e.id}`),P.get(`/accounts?userId=${e.id}`),P.get(`/tags?userId=${e.id}`)]);if(j.success){let _=j.data||[];h.category&&(_=_.filter(B=>B.categoryId===parseInt(h.category))),h.tag&&(_=_.filter(B=>{var Y;return(Y=B.tags)==null?void 0:Y.some(G=>G.idTag===parseInt(h.tag))})),h.date&&(_=_.filter(B=>{var Y;return(Y=B.date)==null?void 0:Y.startsWith(h.date)})),s(_)}x.success&&d(x.data||[]),k.success&&b(k.data||[]),D.success&&w(D.data||[])}catch{E.error("Erro ao carregar transações")}finally{o(!1)}},T=async(j,x)=>{if(confirm("Tem certeza que deseja excluir esta transação?"))try{const k=x==="income"?"/incomes":"/expenses";(await P.delete(`${k}?id=${j}`)).success&&(E.success("Transação excluída!"),t(`overview-${e.id}-month`),t(`overview-${e.id}-year`),t(`overview-${e.id}-all`),t(`recent-transactions-${e.id}`),S())}catch{E.error("Erro ao excluir transação")}};return n?r.jsx("div",{className:"flex items-center justify-center h-64",children:r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-4 border-primary-600 border-t-transparent"})}):r.jsxs("div",{className:"space-y-6 animate-fade-in",children:[r.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[r.jsxs("div",{children:[r.jsx("h2",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:"Transações"}),r.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-1",children:"Gerencie suas receitas e gastos"})]}),r.jsxs("div",{className:"flex gap-2 w-full sm:w-auto",children:[r.jsxs("button",{onClick:()=>l(!0),className:"flex-1 sm:flex-none btn-secondary justify-center",children:[r.jsx(co,{className:"w-4 h-4"}),"Novo Gasto"]}),r.jsxs("button",{onClick:()=>c(!0),className:"flex-1 sm:flex-none btn-primary justify-center",children:[r.jsx(Ee,{className:"w-4 h-4"}),"Nova Receita"]})]})]}),r.jsxs("div",{className:"card",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[r.jsx(so,{className:"w-5 h-5 text-gray-500"}),r.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white",children:"Filtros"})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"label",children:"Categoria"}),r.jsxs("select",{value:h.category,onChange:j=>p({...h,category:j.target.value}),className:"input",children:[r.jsx("option",{value:"",children:"Todas as Categorias"}),m.map(j=>r.jsx("option",{value:j.idCategoria,children:j.nome},j.idCategoria))]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"label",children:"Tag"}),r.jsxs("select",{value:h.tag,onChange:j=>p({...h,tag:j.target.value}),className:"input",children:[r.jsx("option",{value:"",children:"Todas as Tags"}),f.map(j=>r.jsx("option",{value:j.idTag,children:j.nome},j.idTag))]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"label",children:"Data"}),r.jsx("input",{type:"date",value:h.date,onChange:j=>p({...h,date:j.target.value}),className:"input"})]})]}),r.jsx("button",{onClick:()=>p({category:"",tag:"",date:""}),className:"btn-secondary mt-4",children:"Limpar Filtros"})]}),a.length===0?r.jsx("div",{className:"card text-center py-12",children:r.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Nenhuma transação encontrada"})}):r.jsx("div",{className:"space-y-3",children:a.map(j=>r.jsxs("div",{className:"card flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[r.jsxs("div",{className:"flex items-center gap-4 w-full sm:w-auto",children:[r.jsx("div",{className:`w-12 h-12 rounded-xl flex items-center justify-center shrink-0 ${j.type==="income"?"bg-green-100 dark:bg-green-900/30 text-green-600":"bg-red-100 dark:bg-red-900/30 text-red-600"}`,children:j.type==="income"?r.jsx(Je,{className:"w-6 h-6"}):r.jsx(Xe,{className:"w-6 h-6"})}),r.jsxs("div",{className:"min-w-0",children:[r.jsx("p",{className:"font-semibold text-gray-900 dark:text-white truncate",children:j.description}),r.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400 truncate",children:[Ne(j.date)," - ",j.category]}),j.tags&&j.tags.length>0&&r.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:j.tags.map(x=>r.jsx("span",{className:"text-xs px-2 py-1 rounded-full text-white",style:{backgroundColor:x.cor},children:x.nome},x.idTag))}),j.observacoes&&j.observacoes.length>0&&r.jsxs("div",{className:"mt-2",children:[r.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 font-medium",children:"Observações:"}),r.jsx("ul",{className:"text-xs text-gray-600 dark:text-gray-300 list-disc list-inside mt-1",children:Array.isArray(j.observacoes)?j.observacoes.map((x,k)=>r.jsx("li",{children:x},k)):r.jsx("li",{children:j.observacoes})})]})]})]}),r.jsxs("div",{className:"flex items-center justify-between sm:justify-end gap-4 w-full sm:w-auto border-t sm:border-t-0 pt-4 sm:pt-0 border-gray-100 dark:border-gray-700",children:[r.jsxs("span",{className:`text-lg font-bold ${j.type==="income"?"text-green-600 dark:text-green-400":"text-red-600 dark:text-red-400"}`,children:[j.type==="income"?"+":"-",M(j.value||0)]}),r.jsx("button",{onClick:()=>T(j.id,j.type),className:"btn-danger shrink-0",children:r.jsx(De,{className:"w-4 h-4"})})]})]},j.id))}),r.jsx(ia,{isOpen:i,onClose:()=>l(!1),type:"expense",categories:m,accounts:v,tags:f,onSuccess:()=>{S(),t(`overview-${e.id}-month`),t(`overview-${e.id}-year`),t(`overview-${e.id}-all`),t(`recent-transactions-${e.id}`)},user:e}),r.jsx(ia,{isOpen:u,onClose:()=>c(!1),type:"income",categories:m,accounts:v,tags:f,onSuccess:()=>{S(),t(`overview-${e.id}-month`),t(`overview-${e.id}-year`),t(`overview-${e.id}-all`),t(`recent-transactions-${e.id}`)},user:e})]})}function ia({isOpen:e,onClose:t,type:a,categories:s,accounts:n,tags:o,onSuccess:i,user:l}){const[u,c]=y.useState({description:"",value:"",date:new Date().toISOString().split("T")[0],accountId:"",categoryIds:[],tagIds:[],observacoes:""}),m=async d=>{d.preventDefault();try{const v={description:u.description,value:parseFloat(u.value),date:u.date,accountId:parseInt(u.accountId),userId:l.id};if(a==="expense"&&(v.categoryIds=u.categoryIds.map(Number),v.categoryIds.length===0)){E.error("Selecione pelo menos uma categoria");return}u.tagIds.length>0&&(v.tagIds=u.tagIds.map(Number)),u.observacoes&&u.observacoes.trim()&&(v.observacoes=u.observacoes.trim());const b=a==="expense"?"/expenses":"/incomes";(await P.post(b,v)).success&&(E.success(`${a==="expense"?"Gasto":"Receita"} adicionada!`),i(),t(),c({description:"",value:"",date:new Date().toISOString().split("T")[0],accountId:"",categoryIds:[],tagIds:[],observacoes:""}))}catch(v){E.error(v.message||"Erro ao salvar transação")}};return r.jsx(he,{isOpen:e,onClose:t,title:a==="expense"?"Novo Gasto":"Nova Receita",children:r.jsxs("form",{onSubmit:m,className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"label",children:"Descrição"}),r.jsx("input",{type:"text",value:u.description,onChange:d=>c({...u,description:d.target.value}),className:"input",required:!0})]}),r.jsxs("div",{children:[r.jsx("label",{className:"label",children:"Valor"}),r.jsx("input",{type:"number",step:"0.01",value:u.value,onChange:d=>c({...u,value:d.target.value}),className:"input",required:!0})]}),r.jsxs("div",{children:[r.jsx("label",{className:"label",children:"Data"}),r.jsx("input",{type:"date",value:u.date,onChange:d=>c({...u,date:d.target.value}),className:"input",required:!0})]}),a==="expense"&&r.jsxs("div",{children:[r.jsx("label",{className:"label",children:"Categorias"}),r.jsx("div",{className:"space-y-2 max-h-32 overflow-y-auto",children:s.map(d=>r.jsxs("label",{className:"flex items-center gap-2",children:[r.jsx("input",{type:"checkbox",checked:u.categoryIds.includes(d.idCategoria.toString()),onChange:v=>{v.target.checked?c({...u,categoryIds:[...u.categoryIds,d.idCategoria.toString()]}):c({...u,categoryIds:u.categoryIds.filter(b=>b!==d.idCategoria.toString())})}}),r.jsx("span",{children:d.nome})]},d.idCategoria))})]}),r.jsxs("div",{className:"relative",children:[r.jsx("label",{className:"label",children:"Conta"}),r.jsxs("select",{value:u.accountId,onChange:d=>c({...u,accountId:d.target.value}),className:"input",required:!0,children:[r.jsx("option",{value:"",children:"Selecione a conta"}),n.filter(d=>{var v;return((v=d.tipo)==null?void 0:v.toLowerCase())!=="investimento"}).map(d=>r.jsxs("option",{value:d.idConta,children:[d.nome," (",d.tipo,")"]},d.idConta))]})]}),o.length>0&&r.jsxs("div",{children:[r.jsx("label",{className:"label",children:"Tags (opcional)"}),r.jsx("div",{className:"space-y-2 max-h-32 overflow-y-auto",children:o.map(d=>r.jsxs("label",{className:"flex items-center gap-2",children:[r.jsx("input",{type:"checkbox",checked:u.tagIds.includes(d.idTag.toString()),onChange:v=>{v.target.checked?c({...u,tagIds:[...u.tagIds,d.idTag.toString()]}):c({...u,tagIds:u.tagIds.filter(b=>b!==d.idTag.toString())})}}),r.jsx("span",{className:"text-xs px-2 py-1 rounded-full text-white",style:{backgroundColor:d.cor},children:d.nome})]},d.idTag))})]}),r.jsxs("div",{children:[r.jsx("label",{className:"label",children:"Observações (opcional)"}),r.jsx("textarea",{value:u.observacoes,onChange:d=>c({...u,observacoes:d.target.value}),className:"input",rows:"3",placeholder:"Digite observações separadas por vírgula ou quebra de linha..."})]}),r.jsxs("div",{className:"flex gap-2 justify-end",children:[r.jsx("button",{type:"button",onClick:t,className:"btn-secondary",children:"Cancelar"}),r.jsx("button",{type:"submit",className:"btn-primary",children:"Salvar"})]})]})})}function vo(){const{user:e}=re(),[t,a]=y.useState([]),[s,n]=y.useState([]),[o,i]=y.useState(!0),[l,u]=y.useState(!1),[c,m]=y.useState(null),[d,v]=y.useState({categoryId:"",value:"",period:"Mensal"});y.useEffect(()=>{e&&b()},[e]);const b=async()=>{i(!0);try{const[p,S]=await Promise.all([P.get(`/budgets?userId=${e.id}`),P.get(`/categories?userId=${e.id}`)]);p.success&&a(p.data||[]),S.success&&n(S.data||[])}catch{E.error("Erro ao carregar orçamentos")}finally{i(!1)}},f=async p=>{p.preventDefault();try{const S={categoryId:parseInt(d.categoryId),value:parseFloat(d.value),period:d.period,userId:e.id};c?(await P.put(`/budgets/${c.idOrcamento}`,S)).success&&(E.success("Orçamento atualizado!"),b(),h()):(await P.post("/budgets",S)).success&&(E.success("Orçamento criado!"),b(),h())}catch(S){E.error(S.message||"Erro ao salvar orçamento")}},w=async p=>{if(confirm("Tem certeza que deseja excluir este orçamento?"))try{(await P.delete(`/budgets/${p}?userId=${e.id}`)).success&&(E.success("Orçamento excluído!"),b())}catch{E.error("Erro ao excluir orçamento")}},h=()=>{u(!1),m(null),v({categoryId:"",value:"",period:"Mensal"})};return o?r.jsx("div",{className:"flex items-center justify-center h-64",children:r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-4 border-primary-600 border-t-transparent"})}):r.jsxs("div",{className:"space-y-6 animate-fade-in",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h2",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:"Orçamentos"}),r.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-1",children:"Controle seus gastos planejados"})]}),r.jsxs("button",{onClick:()=>u(!0),className:"btn-primary",children:[r.jsx(Ee,{className:"w-4 h-4"}),"Novo Orçamento"]})]}),t.length===0?r.jsxs("div",{className:"card text-center py-12",children:[r.jsx(Lt,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),r.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Nenhum orçamento definido"})]}):r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:t.map(p=>{const S=p.valorUsado||0,T=p.valorPlanejado||0,j=T>0?Math.min(S/T*100,100):0;return r.jsxs("div",{className:"card",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-2",children:p.categoryName}),r.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-4",children:p.periodo}),r.jsxs("div",{className:"mb-4",children:[r.jsxs("div",{className:"flex justify-between text-sm mb-2",children:[r.jsxs("span",{className:"text-gray-600 dark:text-gray-400",children:[M(S)," / ",M(T)]}),r.jsxs("span",{className:"font-semibold",children:[j.toFixed(1),"%"]})]}),r.jsx("div",{className:"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-2",children:r.jsx("div",{className:`h-2 rounded-full transition-all ${j>100?"bg-red-500":j>80?"bg-yellow-500":"bg-green-500"}`,style:{width:`${Math.min(j,100)}%`}})})]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsxs("button",{onClick:()=>{m(p),v({categoryId:p.idCategoria.toString(),value:p.valorPlanejado.toString(),period:p.periodo}),u(!0)},className:"btn-secondary flex-1",children:[r.jsx(it,{className:"w-4 h-4"}),"Editar"]}),r.jsxs("button",{onClick:()=>w(p.idOrcamento),className:"btn-danger flex-1",children:[r.jsx(De,{className:"w-4 h-4"}),"Excluir"]})]})]},p.idOrcamento)})}),r.jsx(he,{isOpen:l,onClose:h,title:c?"Editar Orçamento":"Novo Orçamento",children:r.jsxs("form",{onSubmit:f,className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"label",children:"Categoria"}),r.jsxs("select",{value:d.categoryId,onChange:p=>v({...d,categoryId:p.target.value}),className:"input",required:!0,children:[r.jsx("option",{value:"",children:"Selecione a categoria"}),s.map(p=>r.jsx("option",{value:p.idCategoria,children:p.nome},p.idCategoria))]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"label",children:"Valor Planejado (R$)"}),r.jsx("input",{type:"number",step:"0.01",value:d.value,onChange:p=>v({...d,value:p.target.value}),className:"input",required:!0})]}),r.jsxs("div",{children:[r.jsx("label",{className:"label",children:"Período"}),r.jsxs("select",{value:d.period,onChange:p=>v({...d,period:p.target.value}),className:"input",required:!0,children:[r.jsx("option",{value:"Mensal",children:"Mensal"}),r.jsx("option",{value:"Anual",children:"Anual"})]})]}),r.jsxs("div",{className:"flex gap-2 justify-end",children:[r.jsx("button",{type:"button",onClick:h,className:"btn-secondary",children:"Cancelar"}),r.jsx("button",{type:"submit",className:"btn-primary",children:c?"Atualizar":"Criar"})]})]})})]})}function wo(){const{user:e}=re(),[t,a]=y.useState([]),[s,n]=y.useState(!0),[o,i]=y.useState(!1),[l,u]=y.useState(null),[c,m]=y.useState({nome:"",cor:"#3498db"});y.useEffect(()=>{e&&d()},[e]);const d=async()=>{n(!0);try{const w=await P.get(`/tags?userId=${e.id}`);w.success&&a(w.data||[])}catch{E.error("Erro ao carregar tags")}finally{n(!1)}},v=async w=>{w.preventDefault();try{const h={nome:c.nome,cor:c.cor,userId:e.id};l?(await P.put(`/tags/${l.idTag}`,{...h,id:l.idTag})).success&&(E.success("Tag atualizada!"),d(),f()):(await P.post("/tags",h)).success&&(E.success("Tag criada!"),d(),f())}catch(h){E.error(h.message||"Erro ao salvar tag")}},b=async w=>{if(confirm("Tem certeza que deseja excluir esta tag?"))try{(await P.delete(`/tags/${w}`)).success&&(E.success("Tag excluída!"),d())}catch{E.error("Erro ao excluir tag")}},f=()=>{i(!1),u(null),m({nome:"",cor:"#3498db"})};return s?r.jsx("div",{className:"flex items-center justify-center h-64",children:r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-4 border-primary-600 border-t-transparent"})}):r.jsxs("div",{className:"space-y-6 animate-fade-in",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h2",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:"Tags"}),r.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-1",children:"Organize suas transações com tags"})]}),r.jsxs("button",{onClick:()=>i(!0),className:"btn-primary",children:[r.jsx(Ee,{className:"w-4 h-4"}),"Nova Tag"]})]}),t.length===0?r.jsxs("div",{className:"card text-center py-12",children:[r.jsx(Re,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),r.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Nenhuma tag criada"})]}):r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:t.map(w=>r.jsxs("div",{className:"card",children:[r.jsx("div",{className:"flex items-center gap-3 mb-4",children:r.jsxs("span",{className:"px-4 py-2 rounded-lg text-white font-medium",style:{backgroundColor:w.cor},children:[r.jsx(Re,{className:"w-4 h-4 inline mr-2"}),w.nome]})}),r.jsxs("div",{className:"flex gap-2",children:[r.jsxs("button",{onClick:()=>{u(w),m({nome:w.nome,cor:w.cor}),i(!0)},className:"btn-secondary flex-1",children:[r.jsx(it,{className:"w-4 h-4"}),"Editar"]}),r.jsxs("button",{onClick:()=>b(w.idTag),className:"btn-danger flex-1",children:[r.jsx(De,{className:"w-4 h-4"}),"Excluir"]})]})]},w.idTag))}),r.jsx(he,{isOpen:o,onClose:f,title:l?"Editar Tag":"Nova Tag",children:r.jsxs("form",{onSubmit:v,className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"label",children:"Nome da Tag"}),r.jsx("input",{type:"text",value:c.nome,onChange:w=>m({...c,nome:w.target.value}),className:"input",placeholder:"Ex: Urgente, Pessoal...",required:!0})]}),r.jsxs("div",{children:[r.jsx("label",{className:"label",children:"Cor"}),r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("input",{type:"color",value:c.cor,onChange:w=>m({...c,cor:w.target.value}),className:"w-20 h-12 rounded-lg cursor-pointer"}),r.jsx("div",{className:"px-4 py-2 rounded-lg text-white font-medium",style:{backgroundColor:c.cor},children:"Preview"})]})]}),r.jsxs("div",{className:"flex gap-2 justify-end",children:[r.jsx("button",{type:"button",onClick:f,className:"btn-secondary",children:"Cancelar"}),r.jsx("button",{type:"submit",className:"btn-primary",children:l?"Atualizar":"Criar"})]})]})})]})}Ct.register(St,Tt,Et,Dt,Ot,ya,At);function jo(){const{user:e}=re(),[t,a]=y.useState(!0),[s,n]=y.useState("month"),[o,i]=y.useState(""),[l,u]=y.useState(""),[c,m]=y.useState(null),[d,v]=y.useState("csv");y.useEffect(()=>{e&&(s!=="custom"||o&&l)&&b()},[e,s,o,l]);const b=async()=>{if(e){a(!0);try{let p=`/reports?userId=${e.id}&period=${s}`;s==="custom"&&o&&l&&(p+=`&startDate=${o}&endDate=${l}`);const S=await P.get(p);S.success?m(S.data):E.error("Erro ao carregar relatórios")}catch(p){console.error("Erro ao carregar relatórios:",p),E.error("Erro ao carregar relatórios")}finally{a(!1)}}},f=async()=>{if(e)try{const p={userId:e.id,format:d,period:s==="custom"?"custom":s};s==="custom"&&o&&l&&(p.startDate=o,p.endDate=l);const S=window.location.hostname==="localhost"?"http://localhost:8080/api":`${window.location.origin}/api`,T=await fetch(`${S}/reports`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(p)});if(T.ok){const j=await T.blob(),x=window.URL.createObjectURL(j),k=document.createElement("a");k.href=x,k.download=`relatorio_${o||"inicio"}_${l||"fim"}.${d}`,document.body.appendChild(k),k.click(),window.URL.revokeObjectURL(x),document.body.removeChild(k),E.success("Relatório exportado com sucesso!")}else E.error("Erro ao exportar relatório")}catch(p){console.error("Erro ao exportar:",p),E.error("Erro ao exportar relatório")}};if(t)return r.jsx("div",{className:"flex items-center justify-center h-64",children:r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-4 border-primary-600 border-t-transparent"})});const w=c!=null&&c.categoryAnalysis?Object.entries(c.categoryAnalysis).map(([p,S])=>({name:p,total:S})):[],h=(c==null?void 0:c.monthlyAnalysis)||[];return r.jsxs("div",{className:"space-y-6 animate-fade-in",children:[r.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center justify-between gap-4",children:[r.jsxs("div",{children:[r.jsx("h2",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:"Relatórios"}),r.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-1",children:"Análise detalhada das suas finanças"})]}),r.jsxs("div",{className:"flex flex-col sm:flex-row gap-2",children:[r.jsxs("select",{value:s,onChange:p=>n(p.target.value),className:"input w-full sm:w-auto",children:[r.jsx("option",{value:"month",children:"Este Mês"}),r.jsx("option",{value:"year",children:"Este Ano"}),r.jsx("option",{value:"custom",children:"Período Personalizado"})]}),s==="custom"&&r.jsxs(r.Fragment,{children:[r.jsx("input",{type:"date",value:o,onChange:p=>i(p.target.value),className:"input w-full sm:w-auto",placeholder:"Data Início"}),r.jsx("input",{type:"date",value:l,onChange:p=>u(p.target.value),className:"input w-full sm:w-auto",placeholder:"Data Fim"})]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsxs("select",{value:d,onChange:p=>v(p.target.value),className:"input w-full sm:w-auto",children:[r.jsx("option",{value:"csv",children:"CSV"}),r.jsx("option",{value:"xlsx",children:"XLSX"})]}),r.jsxs("button",{onClick:f,className:"btn-primary flex-1 sm:flex-none justify-center",children:[r.jsx(ro,{className:"w-4 h-4"}),"Exportar"]})]})]})]}),c?r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[r.jsx(de,{title:"Total de Receitas",amount:M(c.totalIncomes||0),icon:Je,type:"income",subtitle:`${c.incomeCount||0} transações`}),r.jsx(de,{title:"Total de Gastos",amount:M(c.totalExpenses||0),icon:Xe,type:"expense",subtitle:`${c.expenseCount||0} transações`}),r.jsx(de,{title:"Saldo do Período",amount:M(c.balance||0),icon:rr,type:"balance",subtitle:c.startDate&&c.endDate?`${Ne(c.startDate)} a ${Ne(c.endDate)}`:"Período selecionado"})]}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[w.length>0&&r.jsxs("div",{className:"card",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Gastos por Categoria"}),r.jsx("div",{className:"h-64",children:r.jsx(He,{data:{labels:w.map(p=>p.name),datasets:[{data:w.map(p=>p.total),backgroundColor:["#ef4444","#f59e0b","#3b82f6","#8b5cf6","#ec4899","#14b8a6","#f97316","#6366f1"]}]},options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"bottom",labels:{padding:15,usePointStyle:!0,color:"#6b7280"}},tooltip:{callbacks:{label:p=>{const S=p.label||"",T=M(p.parsed);return`${S}: ${T}`}}}}}})})]}),h.length>0&&r.jsxs("div",{className:"card",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Evolução Mensal"}),r.jsx("div",{className:"h-64",children:r.jsx(wr,{data:{labels:h.map(p=>`${["Jan","Fev","Mar","Abr","Mai","Jun","Jul","Ago","Set","Out","Nov","Dez"][p.month-1]}/${p.year}`),datasets:[{label:"Receitas",data:h.map(p=>p.incomes||0),backgroundColor:"#22c55e"},{label:"Gastos",data:h.map(p=>p.expenses||0),backgroundColor:"#ef4444"}]},options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"bottom"},tooltip:{callbacks:{label:p=>`${p.dataset.label}: ${M(p.parsed.y)}`}}},scales:{y:{beginAtZero:!0,ticks:{callback:p=>M(p)}}}}})})]})]}),c.accountAnalysis&&Object.keys(c.accountAnalysis).length>0&&r.jsxs("div",{className:"card",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Gastos por Conta"}),r.jsx("div",{className:"h-64",children:r.jsx(He,{data:{labels:Object.keys(c.accountAnalysis),datasets:[{data:Object.values(c.accountAnalysis),backgroundColor:["#3b82f6","#8b5cf6","#ec4899","#14b8a6","#f97316"]}]},options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"bottom"},tooltip:{callbacks:{label:p=>{const S=p.label||"",T=M(p.parsed);return`${S}: ${T}`}}}}}})})]}),c.topExpenses&&c.topExpenses.length>0&&r.jsxs("div",{className:"card",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Maiores Gastos"}),r.jsx("div",{className:"space-y-3",children:c.topExpenses.map((p,S)=>r.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-700 rounded-lg",children:[r.jsxs("div",{children:[r.jsx("p",{className:"font-semibold text-gray-900 dark:text-white",children:p.description}),r.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:[Ne(p.date)," - ",p.category]})]}),r.jsx("p",{className:"text-lg font-bold text-red-600 dark:text-red-400",children:M(p.value||0)})]},S))})]})]}):r.jsxs("div",{className:"card text-center py-12",children:[r.jsx(er,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),r.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Nenhum dado disponível para o período selecionado"})]})]})}function Qe(e){"@babel/helpers - typeof";return Qe=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Qe(e)}function Q(e){if(e===null||e===!0||e===!1)return NaN;var t=Number(e);return isNaN(t)?t:t<0?Math.ceil(t):Math.floor(t)}function F(e,t){if(t.length<e)throw new TypeError(e+" argument"+(e>1?"s":"")+" required, but only "+t.length+" present")}function W(e){F(1,arguments);var t=Object.prototype.toString.call(e);return e instanceof Date||Qe(e)==="object"&&t==="[object Date]"?new Date(e.getTime()):typeof e=="number"||t==="[object Number]"?new Date(e):((typeof e=="string"||t==="[object String]")&&typeof console<"u"&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn(new Error().stack)),new Date(NaN))}function cr(e,t){F(2,arguments);var a=W(e),s=Q(t);return isNaN(s)?new Date(NaN):(s&&a.setDate(a.getDate()+s),a)}function dr(e,t){F(2,arguments);var a=W(e),s=Q(t);if(isNaN(s))return new Date(NaN);if(!s)return a;var n=a.getDate(),o=new Date(a.getTime());o.setMonth(a.getMonth()+s+1,0);var i=o.getDate();return n>=i?o:(a.setFullYear(o.getFullYear(),o.getMonth(),n),a)}function No(e,t){F(2,arguments);var a=W(e).getTime(),s=Q(t);return new Date(a+s)}var ko={};function lt(){return ko}function kt(e){var t=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return t.setUTCFullYear(e.getFullYear()),e.getTime()-t.getTime()}function Ke(e){F(1,arguments);var t=W(e);return t.setHours(0,0,0,0),t}var Co=864e5;function So(e,t){F(2,arguments);var a=Ke(e),s=Ke(t),n=a.getTime()-kt(a),o=s.getTime()-kt(s);return Math.round((n-o)/Co)}function To(e,t){F(2,arguments);var a=Q(t),s=a*7;return cr(e,s)}function Eo(e,t){F(2,arguments);var a=Q(t);return dr(e,a*12)}var ur=6e4,mr=36e5;function Do(e){return F(1,arguments),e instanceof Date||Qe(e)==="object"&&Object.prototype.toString.call(e)==="[object Date]"}function Oo(e){if(F(1,arguments),!Do(e)&&typeof e!="number")return!1;var t=W(e);return!isNaN(Number(t))}function la(e,t){var a=e.getFullYear()-t.getFullYear()||e.getMonth()-t.getMonth()||e.getDate()-t.getDate()||e.getHours()-t.getHours()||e.getMinutes()-t.getMinutes()||e.getSeconds()-t.getSeconds()||e.getMilliseconds()-t.getMilliseconds();return a<0?-1:a>0?1:a}function ca(e,t){F(2,arguments);var a=W(e),s=W(t),n=la(a,s),o=Math.abs(So(a,s));a.setDate(a.getDate()-n*o);var i=+(la(a,s)===-n),l=n*(o-i);return l===0?0:l}function Ao(e,t){var a;F(1,arguments);var s=e||{},n=W(s.start),o=W(s.end),i=o.getTime();if(!(n.getTime()<=i))throw new RangeError("Invalid interval");var l=[],u=n;u.setHours(0,0,0,0);var c=Number((a=void 0)!==null&&a!==void 0?a:1);if(c<1||isNaN(c))throw new RangeError("`options.step` must be a number greater than 1");for(;u.getTime()<=i;)l.push(W(u)),u.setDate(u.getDate()+c),u.setHours(0,0,0,0);return l}function Ro(e){F(1,arguments);var t=W(e),a=new Date(0);return a.setFullYear(t.getFullYear(),0,1),a.setHours(0,0,0,0),a}function Po(e,t){F(2,arguments);var a=Q(t);return No(e,-a)}var Mo=864e5;function Io(e){F(1,arguments);var t=W(e),a=t.getTime();t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0);var s=t.getTime(),n=a-s;return Math.floor(n/Mo)+1}function Ge(e){F(1,arguments);var t=1,a=W(e),s=a.getUTCDay(),n=(s<t?7:0)+s-t;return a.setUTCDate(a.getUTCDate()-n),a.setUTCHours(0,0,0,0),a}function hr(e){F(1,arguments);var t=W(e),a=t.getUTCFullYear(),s=new Date(0);s.setUTCFullYear(a+1,0,4),s.setUTCHours(0,0,0,0);var n=Ge(s),o=new Date(0);o.setUTCFullYear(a,0,4),o.setUTCHours(0,0,0,0);var i=Ge(o);return t.getTime()>=n.getTime()?a+1:t.getTime()>=i.getTime()?a:a-1}function Fo(e){F(1,arguments);var t=hr(e),a=new Date(0);a.setUTCFullYear(t,0,4),a.setUTCHours(0,0,0,0);var s=Ge(a);return s}var $o=6048e5;function Lo(e){F(1,arguments);var t=W(e),a=Ge(t).getTime()-Fo(t).getTime();return Math.round(a/$o)+1}function Ze(e,t){var a,s,n,o,i,l,u,c;F(1,arguments);var m=lt(),d=Q((a=(s=(n=(o=t==null?void 0:t.weekStartsOn)!==null&&o!==void 0?o:t==null||(i=t.locale)===null||i===void 0||(l=i.options)===null||l===void 0?void 0:l.weekStartsOn)!==null&&n!==void 0?n:m.weekStartsOn)!==null&&s!==void 0?s:(u=m.locale)===null||u===void 0||(c=u.options)===null||c===void 0?void 0:c.weekStartsOn)!==null&&a!==void 0?a:0);if(!(d>=0&&d<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var v=W(e),b=v.getUTCDay(),f=(b<d?7:0)+b-d;return v.setUTCDate(v.getUTCDate()-f),v.setUTCHours(0,0,0,0),v}function fr(e,t){var a,s,n,o,i,l,u,c;F(1,arguments);var m=W(e),d=m.getUTCFullYear(),v=lt(),b=Q((a=(s=(n=(o=t==null?void 0:t.firstWeekContainsDate)!==null&&o!==void 0?o:t==null||(i=t.locale)===null||i===void 0||(l=i.options)===null||l===void 0?void 0:l.firstWeekContainsDate)!==null&&n!==void 0?n:v.firstWeekContainsDate)!==null&&s!==void 0?s:(u=v.locale)===null||u===void 0||(c=u.options)===null||c===void 0?void 0:c.firstWeekContainsDate)!==null&&a!==void 0?a:1);if(!(b>=1&&b<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var f=new Date(0);f.setUTCFullYear(d+1,0,b),f.setUTCHours(0,0,0,0);var w=Ze(f,t),h=new Date(0);h.setUTCFullYear(d,0,b),h.setUTCHours(0,0,0,0);var p=Ze(h,t);return m.getTime()>=w.getTime()?d+1:m.getTime()>=p.getTime()?d:d-1}function Uo(e,t){var a,s,n,o,i,l,u,c;F(1,arguments);var m=lt(),d=Q((a=(s=(n=(o=t==null?void 0:t.firstWeekContainsDate)!==null&&o!==void 0?o:t==null||(i=t.locale)===null||i===void 0||(l=i.options)===null||l===void 0?void 0:l.firstWeekContainsDate)!==null&&n!==void 0?n:m.firstWeekContainsDate)!==null&&s!==void 0?s:(u=m.locale)===null||u===void 0||(c=u.options)===null||c===void 0?void 0:c.firstWeekContainsDate)!==null&&a!==void 0?a:1),v=fr(e,t),b=new Date(0);b.setUTCFullYear(v,0,d),b.setUTCHours(0,0,0,0);var f=Ze(b,t);return f}var _o=6048e5;function qo(e,t){F(1,arguments);var a=W(e),s=Ze(a,t).getTime()-Uo(a,t).getTime();return Math.round(s/_o)+1}function $(e,t){for(var a=e<0?"-":"",s=Math.abs(e).toString();s.length<t;)s="0"+s;return a+s}var fe={y:function(t,a){var s=t.getUTCFullYear(),n=s>0?s:1-s;return $(a==="yy"?n%100:n,a.length)},M:function(t,a){var s=t.getUTCMonth();return a==="M"?String(s+1):$(s+1,2)},d:function(t,a){return $(t.getUTCDate(),a.length)},a:function(t,a){var s=t.getUTCHours()/12>=1?"pm":"am";switch(a){case"a":case"aa":return s.toUpperCase();case"aaa":return s;case"aaaaa":return s[0];case"aaaa":default:return s==="am"?"a.m.":"p.m."}},h:function(t,a){return $(t.getUTCHours()%12||12,a.length)},H:function(t,a){return $(t.getUTCHours(),a.length)},m:function(t,a){return $(t.getUTCMinutes(),a.length)},s:function(t,a){return $(t.getUTCSeconds(),a.length)},S:function(t,a){var s=a.length,n=t.getUTCMilliseconds(),o=Math.floor(n*Math.pow(10,s-3));return $(o,a.length)}},je={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},Bo={G:function(t,a,s){var n=t.getUTCFullYear()>0?1:0;switch(a){case"G":case"GG":case"GGG":return s.era(n,{width:"abbreviated"});case"GGGGG":return s.era(n,{width:"narrow"});case"GGGG":default:return s.era(n,{width:"wide"})}},y:function(t,a,s){if(a==="yo"){var n=t.getUTCFullYear(),o=n>0?n:1-n;return s.ordinalNumber(o,{unit:"year"})}return fe.y(t,a)},Y:function(t,a,s,n){var o=fr(t,n),i=o>0?o:1-o;if(a==="YY"){var l=i%100;return $(l,2)}return a==="Yo"?s.ordinalNumber(i,{unit:"year"}):$(i,a.length)},R:function(t,a){var s=hr(t);return $(s,a.length)},u:function(t,a){var s=t.getUTCFullYear();return $(s,a.length)},Q:function(t,a,s){var n=Math.ceil((t.getUTCMonth()+1)/3);switch(a){case"Q":return String(n);case"QQ":return $(n,2);case"Qo":return s.ordinalNumber(n,{unit:"quarter"});case"QQQ":return s.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return s.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return s.quarter(n,{width:"wide",context:"formatting"})}},q:function(t,a,s){var n=Math.ceil((t.getUTCMonth()+1)/3);switch(a){case"q":return String(n);case"qq":return $(n,2);case"qo":return s.ordinalNumber(n,{unit:"quarter"});case"qqq":return s.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return s.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return s.quarter(n,{width:"wide",context:"standalone"})}},M:function(t,a,s){var n=t.getUTCMonth();switch(a){case"M":case"MM":return fe.M(t,a);case"Mo":return s.ordinalNumber(n+1,{unit:"month"});case"MMM":return s.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return s.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return s.month(n,{width:"wide",context:"formatting"})}},L:function(t,a,s){var n=t.getUTCMonth();switch(a){case"L":return String(n+1);case"LL":return $(n+1,2);case"Lo":return s.ordinalNumber(n+1,{unit:"month"});case"LLL":return s.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return s.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return s.month(n,{width:"wide",context:"standalone"})}},w:function(t,a,s,n){var o=qo(t,n);return a==="wo"?s.ordinalNumber(o,{unit:"week"}):$(o,a.length)},I:function(t,a,s){var n=Lo(t);return a==="Io"?s.ordinalNumber(n,{unit:"week"}):$(n,a.length)},d:function(t,a,s){return a==="do"?s.ordinalNumber(t.getUTCDate(),{unit:"date"}):fe.d(t,a)},D:function(t,a,s){var n=Io(t);return a==="Do"?s.ordinalNumber(n,{unit:"dayOfYear"}):$(n,a.length)},E:function(t,a,s){var n=t.getUTCDay();switch(a){case"E":case"EE":case"EEE":return s.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return s.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return s.day(n,{width:"short",context:"formatting"});case"EEEE":default:return s.day(n,{width:"wide",context:"formatting"})}},e:function(t,a,s,n){var o=t.getUTCDay(),i=(o-n.weekStartsOn+8)%7||7;switch(a){case"e":return String(i);case"ee":return $(i,2);case"eo":return s.ordinalNumber(i,{unit:"day"});case"eee":return s.day(o,{width:"abbreviated",context:"formatting"});case"eeeee":return s.day(o,{width:"narrow",context:"formatting"});case"eeeeee":return s.day(o,{width:"short",context:"formatting"});case"eeee":default:return s.day(o,{width:"wide",context:"formatting"})}},c:function(t,a,s,n){var o=t.getUTCDay(),i=(o-n.weekStartsOn+8)%7||7;switch(a){case"c":return String(i);case"cc":return $(i,a.length);case"co":return s.ordinalNumber(i,{unit:"day"});case"ccc":return s.day(o,{width:"abbreviated",context:"standalone"});case"ccccc":return s.day(o,{width:"narrow",context:"standalone"});case"cccccc":return s.day(o,{width:"short",context:"standalone"});case"cccc":default:return s.day(o,{width:"wide",context:"standalone"})}},i:function(t,a,s){var n=t.getUTCDay(),o=n===0?7:n;switch(a){case"i":return String(o);case"ii":return $(o,a.length);case"io":return s.ordinalNumber(o,{unit:"day"});case"iii":return s.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return s.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return s.day(n,{width:"short",context:"formatting"});case"iiii":default:return s.day(n,{width:"wide",context:"formatting"})}},a:function(t,a,s){var n=t.getUTCHours(),o=n/12>=1?"pm":"am";switch(a){case"a":case"aa":return s.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"aaa":return s.dayPeriod(o,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return s.dayPeriod(o,{width:"narrow",context:"formatting"});case"aaaa":default:return s.dayPeriod(o,{width:"wide",context:"formatting"})}},b:function(t,a,s){var n=t.getUTCHours(),o;switch(n===12?o=je.noon:n===0?o=je.midnight:o=n/12>=1?"pm":"am",a){case"b":case"bb":return s.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"bbb":return s.dayPeriod(o,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return s.dayPeriod(o,{width:"narrow",context:"formatting"});case"bbbb":default:return s.dayPeriod(o,{width:"wide",context:"formatting"})}},B:function(t,a,s){var n=t.getUTCHours(),o;switch(n>=17?o=je.evening:n>=12?o=je.afternoon:n>=4?o=je.morning:o=je.night,a){case"B":case"BB":case"BBB":return s.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"BBBBB":return s.dayPeriod(o,{width:"narrow",context:"formatting"});case"BBBB":default:return s.dayPeriod(o,{width:"wide",context:"formatting"})}},h:function(t,a,s){if(a==="ho"){var n=t.getUTCHours()%12;return n===0&&(n=12),s.ordinalNumber(n,{unit:"hour"})}return fe.h(t,a)},H:function(t,a,s){return a==="Ho"?s.ordinalNumber(t.getUTCHours(),{unit:"hour"}):fe.H(t,a)},K:function(t,a,s){var n=t.getUTCHours()%12;return a==="Ko"?s.ordinalNumber(n,{unit:"hour"}):$(n,a.length)},k:function(t,a,s){var n=t.getUTCHours();return n===0&&(n=24),a==="ko"?s.ordinalNumber(n,{unit:"hour"}):$(n,a.length)},m:function(t,a,s){return a==="mo"?s.ordinalNumber(t.getUTCMinutes(),{unit:"minute"}):fe.m(t,a)},s:function(t,a,s){return a==="so"?s.ordinalNumber(t.getUTCSeconds(),{unit:"second"}):fe.s(t,a)},S:function(t,a){return fe.S(t,a)},X:function(t,a,s,n){var o=n._originalDate||t,i=o.getTimezoneOffset();if(i===0)return"Z";switch(a){case"X":return ua(i);case"XXXX":case"XX":return ye(i);case"XXXXX":case"XXX":default:return ye(i,":")}},x:function(t,a,s,n){var o=n._originalDate||t,i=o.getTimezoneOffset();switch(a){case"x":return ua(i);case"xxxx":case"xx":return ye(i);case"xxxxx":case"xxx":default:return ye(i,":")}},O:function(t,a,s,n){var o=n._originalDate||t,i=o.getTimezoneOffset();switch(a){case"O":case"OO":case"OOO":return"GMT"+da(i,":");case"OOOO":default:return"GMT"+ye(i,":")}},z:function(t,a,s,n){var o=n._originalDate||t,i=o.getTimezoneOffset();switch(a){case"z":case"zz":case"zzz":return"GMT"+da(i,":");case"zzzz":default:return"GMT"+ye(i,":")}},t:function(t,a,s,n){var o=n._originalDate||t,i=Math.floor(o.getTime()/1e3);return $(i,a.length)},T:function(t,a,s,n){var o=n._originalDate||t,i=o.getTime();return $(i,a.length)}};function da(e,t){var a=e>0?"-":"+",s=Math.abs(e),n=Math.floor(s/60),o=s%60;if(o===0)return a+String(n);var i=t;return a+String(n)+i+$(o,2)}function ua(e,t){if(e%60===0){var a=e>0?"-":"+";return a+$(Math.abs(e)/60,2)}return ye(e,t)}function ye(e,t){var a=t||"",s=e>0?"-":"+",n=Math.abs(e),o=$(Math.floor(n/60),2),i=$(n%60,2);return s+o+a+i}var ma=function(t,a){switch(t){case"P":return a.date({width:"short"});case"PP":return a.date({width:"medium"});case"PPP":return a.date({width:"long"});case"PPPP":default:return a.date({width:"full"})}},pr=function(t,a){switch(t){case"p":return a.time({width:"short"});case"pp":return a.time({width:"medium"});case"ppp":return a.time({width:"long"});case"pppp":default:return a.time({width:"full"})}},Wo=function(t,a){var s=t.match(/(P+)(p+)?/)||[],n=s[1],o=s[2];if(!o)return ma(t,a);var i;switch(n){case"P":i=a.dateTime({width:"short"});break;case"PP":i=a.dateTime({width:"medium"});break;case"PPP":i=a.dateTime({width:"long"});break;case"PPPP":default:i=a.dateTime({width:"full"});break}return i.replace("{{date}}",ma(n,a)).replace("{{time}}",pr(o,a))},zo={p:pr,P:Wo},Ho=["D","DD"],Yo=["YY","YYYY"];function Vo(e){return Ho.indexOf(e)!==-1}function Xo(e){return Yo.indexOf(e)!==-1}function ha(e,t,a){if(e==="YYYY")throw new RangeError("Use `yyyy` instead of `YYYY` (in `".concat(t,"`) for formatting years to the input `").concat(a,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(e==="YY")throw new RangeError("Use `yy` instead of `YY` (in `".concat(t,"`) for formatting years to the input `").concat(a,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(e==="D")throw new RangeError("Use `d` instead of `D` (in `".concat(t,"`) for formatting days of the month to the input `").concat(a,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(e==="DD")throw new RangeError("Use `dd` instead of `DD` (in `".concat(t,"`) for formatting days of the month to the input `").concat(a,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"))}var Jo={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},Qo=function(t,a,s){var n,o=Jo[t];return typeof o=="string"?n=o:a===1?n=o.one:n=o.other.replace("{{count}}",a.toString()),s!=null&&s.addSuffix?s.comparison&&s.comparison>0?"in "+n:n+" ago":n};function ke(e){return function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},a=t.width?String(t.width):e.defaultWidth,s=e.formats[a]||e.formats[e.defaultWidth];return s}}var Ko={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},Go={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},Zo={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},ei={date:ke({formats:Ko,defaultWidth:"full"}),time:ke({formats:Go,defaultWidth:"full"}),dateTime:ke({formats:Zo,defaultWidth:"full"})},ti={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},ai=function(t,a,s,n){return ti[t]};function ie(e){return function(t,a){var s=a!=null&&a.context?String(a.context):"standalone",n;if(s==="formatting"&&e.formattingValues){var o=e.defaultFormattingWidth||e.defaultWidth,i=a!=null&&a.width?String(a.width):o;n=e.formattingValues[i]||e.formattingValues[o]}else{var l=e.defaultWidth,u=a!=null&&a.width?String(a.width):e.defaultWidth;n=e.values[u]||e.values[l]}var c=e.argumentCallback?e.argumentCallback(t):t;return n[c]}}var ri={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},si={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},ni={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},oi={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},ii={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},li={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},ci=function(t,a){var s=Number(t),n=s%100;if(n>20||n<10)switch(n%10){case 1:return s+"st";case 2:return s+"nd";case 3:return s+"rd"}return s+"th"},di={ordinalNumber:ci,era:ie({values:ri,defaultWidth:"wide"}),quarter:ie({values:si,defaultWidth:"wide",argumentCallback:function(t){return t-1}}),month:ie({values:ni,defaultWidth:"wide"}),day:ie({values:oi,defaultWidth:"wide"}),dayPeriod:ie({values:ii,defaultWidth:"wide",formattingValues:li,defaultFormattingWidth:"wide"})};function le(e){return function(t){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=a.width,n=s&&e.matchPatterns[s]||e.matchPatterns[e.defaultMatchWidth],o=t.match(n);if(!o)return null;var i=o[0],l=s&&e.parsePatterns[s]||e.parsePatterns[e.defaultParseWidth],u=Array.isArray(l)?mi(l,function(d){return d.test(i)}):ui(l,function(d){return d.test(i)}),c;c=e.valueCallback?e.valueCallback(u):u,c=a.valueCallback?a.valueCallback(c):c;var m=t.slice(i.length);return{value:c,rest:m}}}function ui(e,t){for(var a in e)if(e.hasOwnProperty(a)&&t(e[a]))return a}function mi(e,t){for(var a=0;a<e.length;a++)if(t(e[a]))return a}function gr(e){return function(t){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=t.match(e.matchPattern);if(!s)return null;var n=s[0],o=t.match(e.parsePattern);if(!o)return null;var i=e.valueCallback?e.valueCallback(o[0]):o[0];i=a.valueCallback?a.valueCallback(i):i;var l=t.slice(n.length);return{value:i,rest:l}}}var hi=/^(\d+)(th|st|nd|rd)?/i,fi=/\d+/i,pi={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},gi={any:[/^b/i,/^(a|c)/i]},xi={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},yi={any:[/1/i,/2/i,/3/i,/4/i]},bi={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},vi={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},wi={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},ji={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},Ni={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},ki={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},Ci={ordinalNumber:gr({matchPattern:hi,parsePattern:fi,valueCallback:function(t){return parseInt(t,10)}}),era:le({matchPatterns:pi,defaultMatchWidth:"wide",parsePatterns:gi,defaultParseWidth:"any"}),quarter:le({matchPatterns:xi,defaultMatchWidth:"wide",parsePatterns:yi,defaultParseWidth:"any",valueCallback:function(t){return t+1}}),month:le({matchPatterns:bi,defaultMatchWidth:"wide",parsePatterns:vi,defaultParseWidth:"any"}),day:le({matchPatterns:wi,defaultMatchWidth:"wide",parsePatterns:ji,defaultParseWidth:"any"}),dayPeriod:le({matchPatterns:Ni,defaultMatchWidth:"any",parsePatterns:ki,defaultParseWidth:"any"})},Si={code:"en-US",formatDistance:Qo,formatLong:ei,formatRelative:ai,localize:di,match:Ci,options:{weekStartsOn:0,firstWeekContainsDate:1}},Ti=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Ei=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Di=/^'([^]*?)'?$/,Oi=/''/g,Ai=/[a-zA-Z]/;function fa(e,t,a){var s,n,o,i,l,u,c,m,d,v,b,f,w,h,p,S,T,j;F(2,arguments);var x=String(t),k=lt(),D=(s=(n=a==null?void 0:a.locale)!==null&&n!==void 0?n:k.locale)!==null&&s!==void 0?s:Si,_=Q((o=(i=(l=(u=a==null?void 0:a.firstWeekContainsDate)!==null&&u!==void 0?u:a==null||(c=a.locale)===null||c===void 0||(m=c.options)===null||m===void 0?void 0:m.firstWeekContainsDate)!==null&&l!==void 0?l:k.firstWeekContainsDate)!==null&&i!==void 0?i:(d=k.locale)===null||d===void 0||(v=d.options)===null||v===void 0?void 0:v.firstWeekContainsDate)!==null&&o!==void 0?o:1);if(!(_>=1&&_<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var B=Q((b=(f=(w=(h=a==null?void 0:a.weekStartsOn)!==null&&h!==void 0?h:a==null||(p=a.locale)===null||p===void 0||(S=p.options)===null||S===void 0?void 0:S.weekStartsOn)!==null&&w!==void 0?w:k.weekStartsOn)!==null&&f!==void 0?f:(T=k.locale)===null||T===void 0||(j=T.options)===null||j===void 0?void 0:j.weekStartsOn)!==null&&b!==void 0?b:0);if(!(B>=0&&B<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(!D.localize)throw new RangeError("locale must contain localize property");if(!D.formatLong)throw new RangeError("locale must contain formatLong property");var Y=W(e);if(!Oo(Y))throw new RangeError("Invalid time value");var G=kt(Y),ne=Po(Y,G),ae={firstWeekContainsDate:_,weekStartsOn:B,locale:D,_originalDate:Y},N=x.match(Ei).map(function(C){var O=C[0];if(O==="p"||O==="P"){var L=zo[O];return L(C,D.formatLong)}return C}).join("").match(Ti).map(function(C){if(C==="''")return"'";var O=C[0];if(O==="'")return Ri(C);var L=Bo[O];if(L)return!(a!=null&&a.useAdditionalWeekYearTokens)&&Xo(C)&&ha(C,t,String(e)),!(a!=null&&a.useAdditionalDayOfYearTokens)&&Vo(C)&&ha(C,t,String(e)),L(ne,C,D.localize,ae);if(O.match(Ai))throw new RangeError("Format string contains an unescaped latin alphabet character `"+O+"`");return C}).join("");return N}function Ri(e){var t=e.match(Di);return t?t[1].replace(Oi,"'"):e}function Pi(e,t){F(2,arguments);var a=W(e),s=W(t);return a.getTime()>s.getTime()}function Mi(e,t){F(2,arguments);var a=Q(t);return cr(e,-a)}function pa(e,t){var a;F(1,arguments);var s=Q((a=void 0)!==null&&a!==void 0?a:2);if(s!==2&&s!==1&&s!==0)throw new RangeError("additionalDigits must be 0, 1 or 2");if(!(typeof e=="string"||Object.prototype.toString.call(e)==="[object String]"))return new Date(NaN);var n=Li(e),o;if(n.date){var i=Ui(n.date,s);o=_i(i.restDateString,i.year)}if(!o||isNaN(o.getTime()))return new Date(NaN);var l=o.getTime(),u=0,c;if(n.time&&(u=qi(n.time),isNaN(u)))return new Date(NaN);if(n.timezone){if(c=Bi(n.timezone),isNaN(c))return new Date(NaN)}else{var m=new Date(l+u),d=new Date(0);return d.setFullYear(m.getUTCFullYear(),m.getUTCMonth(),m.getUTCDate()),d.setHours(m.getUTCHours(),m.getUTCMinutes(),m.getUTCSeconds(),m.getUTCMilliseconds()),d}return new Date(l+u+c)}var _e={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},Ii=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,Fi=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,$i=/^([+-])(\d{2})(?::?(\d{2}))?$/;function Li(e){var t={},a=e.split(_e.dateTimeDelimiter),s;if(a.length>2)return t;if(/:/.test(a[0])?s=a[0]:(t.date=a[0],s=a[1],_e.timeZoneDelimiter.test(t.date)&&(t.date=e.split(_e.timeZoneDelimiter)[0],s=e.substr(t.date.length,e.length))),s){var n=_e.timezone.exec(s);n?(t.time=s.replace(n[1],""),t.timezone=n[1]):t.time=s}return t}function Ui(e,t){var a=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+t)+"})|(\\d{2}|[+-]\\d{"+(2+t)+"})$)"),s=e.match(a);if(!s)return{year:NaN,restDateString:""};var n=s[1]?parseInt(s[1]):null,o=s[2]?parseInt(s[2]):null;return{year:o===null?n:o*100,restDateString:e.slice((s[1]||s[2]).length)}}function _i(e,t){if(t===null)return new Date(NaN);var a=e.match(Ii);if(!a)return new Date(NaN);var s=!!a[4],n=Ae(a[1]),o=Ae(a[2])-1,i=Ae(a[3]),l=Ae(a[4]),u=Ae(a[5])-1;if(s)return Vi(t,l,u)?Wi(t,l,u):new Date(NaN);var c=new Date(0);return!Hi(t,o,i)||!Yi(t,n)?new Date(NaN):(c.setUTCFullYear(t,o,Math.max(n,i)),c)}function Ae(e){return e?parseInt(e):1}function qi(e){var t=e.match(Fi);if(!t)return NaN;var a=ht(t[1]),s=ht(t[2]),n=ht(t[3]);return Xi(a,s,n)?a*mr+s*ur+n*1e3:NaN}function ht(e){return e&&parseFloat(e.replace(",","."))||0}function Bi(e){if(e==="Z")return 0;var t=e.match($i);if(!t)return 0;var a=t[1]==="+"?-1:1,s=parseInt(t[2]),n=t[3]&&parseInt(t[3])||0;return Ji(s,n)?a*(s*mr+n*ur):NaN}function Wi(e,t,a){var s=new Date(0);s.setUTCFullYear(e,0,4);var n=s.getUTCDay()||7,o=(t-1)*7+a+1-n;return s.setUTCDate(s.getUTCDate()+o),s}var zi=[31,null,31,30,31,30,31,31,30,31,30,31];function xr(e){return e%400===0||e%4===0&&e%100!==0}function Hi(e,t,a){return t>=0&&t<=11&&a>=1&&a<=(zi[t]||(xr(e)?29:28))}function Yi(e,t){return t>=1&&t<=(xr(e)?366:365)}function Vi(e,t,a){return t>=1&&t<=53&&a>=0&&a<=6}function Xi(e,t,a){return e===24?t===0&&a===0:a>=0&&a<60&&t>=0&&t<60&&e>=0&&e<25}function Ji(e,t){return t>=0&&t<=59}function ft(e,t){F(2,arguments);var a=Q(t);return dr(e,-a)}function Qi(e,t){F(2,arguments);var a=Q(t);return To(e,-a)}function ga(e,t){F(2,arguments);var a=Q(t);return Eo(e,-a)}var Ki={lessThanXSeconds:{one:"menos de um segundo",other:"menos de {{count}} segundos"},xSeconds:{one:"1 segundo",other:"{{count}} segundos"},halfAMinute:"meio minuto",lessThanXMinutes:{one:"menos de um minuto",other:"menos de {{count}} minutos"},xMinutes:{one:"1 minuto",other:"{{count}} minutos"},aboutXHours:{one:"cerca de 1 hora",other:"cerca de {{count}} horas"},xHours:{one:"1 hora",other:"{{count}} horas"},xDays:{one:"1 dia",other:"{{count}} dias"},aboutXWeeks:{one:"cerca de 1 semana",other:"cerca de {{count}} semanas"},xWeeks:{one:"1 semana",other:"{{count}} semanas"},aboutXMonths:{one:"cerca de 1 mês",other:"cerca de {{count}} meses"},xMonths:{one:"1 mês",other:"{{count}} meses"},aboutXYears:{one:"cerca de 1 ano",other:"cerca de {{count}} anos"},xYears:{one:"1 ano",other:"{{count}} anos"},overXYears:{one:"mais de 1 ano",other:"mais de {{count}} anos"},almostXYears:{one:"quase 1 ano",other:"quase {{count}} anos"}},Gi=function(t,a,s){var n,o=Ki[t];return typeof o=="string"?n=o:a===1?n=o.one:n=o.other.replace("{{count}}",String(a)),s!=null&&s.addSuffix?s.comparison&&s.comparison>0?"em "+n:"há "+n:n},Zi={full:"EEEE, d 'de' MMMM 'de' y",long:"d 'de' MMMM 'de' y",medium:"d MMM y",short:"dd/MM/yyyy"},el={full:"HH:mm:ss zzzz",long:"HH:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},tl={full:"{{date}} 'às' {{time}}",long:"{{date}} 'às' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},al={date:ke({formats:Zi,defaultWidth:"full"}),time:ke({formats:el,defaultWidth:"full"}),dateTime:ke({formats:tl,defaultWidth:"full"})},rl={lastWeek:function(t){var a=t.getUTCDay(),s=a===0||a===6?"último":"última";return"'"+s+"' eeee 'às' p"},yesterday:"'ontem às' p",today:"'hoje às' p",tomorrow:"'amanhã às' p",nextWeek:"eeee 'às' p",other:"P"},sl=function(t,a,s,n){var o=rl[t];return typeof o=="function"?o(a):o},nl={narrow:["AC","DC"],abbreviated:["AC","DC"],wide:["antes de cristo","depois de cristo"]},ol={narrow:["1","2","3","4"],abbreviated:["T1","T2","T3","T4"],wide:["1º trimestre","2º trimestre","3º trimestre","4º trimestre"]},il={narrow:["j","f","m","a","m","j","j","a","s","o","n","d"],abbreviated:["jan","fev","mar","abr","mai","jun","jul","ago","set","out","nov","dez"],wide:["janeiro","fevereiro","março","abril","maio","junho","julho","agosto","setembro","outubro","novembro","dezembro"]},ll={narrow:["D","S","T","Q","Q","S","S"],short:["dom","seg","ter","qua","qui","sex","sab"],abbreviated:["domingo","segunda","terça","quarta","quinta","sexta","sábado"],wide:["domingo","segunda-feira","terça-feira","quarta-feira","quinta-feira","sexta-feira","sábado"]},cl={narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"manhã",afternoon:"tarde",evening:"tarde",night:"noite"},abbreviated:{am:"AM",pm:"PM",midnight:"meia-noite",noon:"meio-dia",morning:"manhã",afternoon:"tarde",evening:"tarde",night:"noite"},wide:{am:"a.m.",pm:"p.m.",midnight:"meia-noite",noon:"meio-dia",morning:"manhã",afternoon:"tarde",evening:"tarde",night:"noite"}},dl={narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"da manhã",afternoon:"da tarde",evening:"da tarde",night:"da noite"},abbreviated:{am:"AM",pm:"PM",midnight:"meia-noite",noon:"meio-dia",morning:"da manhã",afternoon:"da tarde",evening:"da tarde",night:"da noite"},wide:{am:"a.m.",pm:"p.m.",midnight:"meia-noite",noon:"meio-dia",morning:"da manhã",afternoon:"da tarde",evening:"da tarde",night:"da noite"}},ul=function(t,a){var s=Number(t);return(a==null?void 0:a.unit)==="week"?s+"ª":s+"º"},ml={ordinalNumber:ul,era:ie({values:nl,defaultWidth:"wide"}),quarter:ie({values:ol,defaultWidth:"wide",argumentCallback:function(t){return t-1}}),month:ie({values:il,defaultWidth:"wide"}),day:ie({values:ll,defaultWidth:"wide"}),dayPeriod:ie({values:cl,defaultWidth:"wide",formattingValues:dl,defaultFormattingWidth:"wide"})},hl=/^(\d+)[ºªo]?/i,fl=/\d+/i,pl={narrow:/^(ac|dc|a|d)/i,abbreviated:/^(a\.?\s?c\.?|d\.?\s?c\.?)/i,wide:/^(antes de cristo|depois de cristo)/i},gl={any:[/^ac/i,/^dc/i],wide:[/^antes de cristo/i,/^depois de cristo/i]},xl={narrow:/^[1234]/i,abbreviated:/^T[1234]/i,wide:/^[1234](º)? trimestre/i},yl={any:[/1/i,/2/i,/3/i,/4/i]},bl={narrow:/^[jfmajsond]/i,abbreviated:/^(jan|fev|mar|abr|mai|jun|jul|ago|set|out|nov|dez)/i,wide:/^(janeiro|fevereiro|março|abril|maio|junho|julho|agosto|setembro|outubro|novembro|dezembro)/i},vl={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^fev/i,/^mar/i,/^abr/i,/^mai/i,/^jun/i,/^jul/i,/^ago/i,/^set/i,/^out/i,/^nov/i,/^dez/i]},wl={narrow:/^(dom|[23456]ª?|s[aá]b)/i,short:/^(dom|[23456]ª?|s[aá]b)/i,abbreviated:/^(dom|seg|ter|qua|qui|sex|s[aá]b)/i,wide:/^(domingo|(segunda|ter[cç]a|quarta|quinta|sexta)([- ]feira)?|s[aá]bado)/i},jl={short:[/^d/i,/^2/i,/^3/i,/^4/i,/^5/i,/^6/i,/^s[aá]/i],narrow:[/^d/i,/^2/i,/^3/i,/^4/i,/^5/i,/^6/i,/^s[aá]/i],any:[/^d/i,/^seg/i,/^t/i,/^qua/i,/^qui/i,/^sex/i,/^s[aá]b/i]},Nl={narrow:/^(a|p|mn|md|(da) (manhã|tarde|noite))/i,any:/^([ap]\.?\s?m\.?|meia[-\s]noite|meio[-\s]dia|(da) (manhã|tarde|noite))/i},kl={any:{am:/^a/i,pm:/^p/i,midnight:/^mn|^meia[-\s]noite/i,noon:/^md|^meio[-\s]dia/i,morning:/manhã/i,afternoon:/tarde/i,evening:/tarde/i,night:/noite/i}},Cl={ordinalNumber:gr({matchPattern:hl,parsePattern:fl,valueCallback:function(t){return parseInt(t,10)}}),era:le({matchPatterns:pl,defaultMatchWidth:"wide",parsePatterns:gl,defaultParseWidth:"any"}),quarter:le({matchPatterns:xl,defaultMatchWidth:"wide",parsePatterns:yl,defaultParseWidth:"any",valueCallback:function(t){return t+1}}),month:le({matchPatterns:bl,defaultMatchWidth:"wide",parsePatterns:vl,defaultParseWidth:"any"}),day:le({matchPatterns:wl,defaultMatchWidth:"wide",parsePatterns:jl,defaultParseWidth:"any"}),dayPeriod:le({matchPatterns:Nl,defaultMatchWidth:"any",parsePatterns:kl,defaultParseWidth:"any"})},xa={code:"pt-BR",formatDistance:Gi,formatLong:al,formatRelative:sl,localize:ml,match:Cl,options:{weekStartsOn:0,firstWeekContainsDate:1}};function Sl({isOpen:e,onClose:t,onSuccess:a,investmentToEdit:s}){const{user:n}=re(),[o,i]=y.useState("VARIABLE"),[l,u]=y.useState([]),[c,m]=y.useState(!1),[d,v]=y.useState({operationType:"BUY",name:"",category:"",quantity:"",date:new Date().toISOString().split("T")[0],brokerage:"0",accountId:"",currency:"BRL"}),[b,f]=y.useState({name:"",investmentType:"",issuer:"",profitabilityType:"",index:"",indexPercent:"100",fixedRate:"",preRate:"",amount:"",date:new Date().toISOString().split("T")[0],maturityDate:"",accountId:""});y.useEffect(()=>{e&&n&&(h(),s?w(s):T())},[e,n,s]);const w=x=>{x.categoria==="RENDA_FIXA"?(i("FIXED"),f({name:x.nome.split(" - ")[0],issuer:x.nome.includes(" - ")?x.nome.split(" - ")[1]:"",investmentType:x.tipoInvestimento||"",profitabilityType:x.tipoRentabilidade||"",index:x.indice||"",indexPercent:x.percentualIndice?x.percentualIndice.toString():"100",fixedRate:x.taxaFixa?x.taxaFixa.toString():"",preRate:x.taxaFixa?x.taxaFixa.toString():"",amount:x.valorAporte?x.valorAporte.toString():"",date:x.dataAporte?x.dataAporte.split("T")[0]:"",maturityDate:x.dataVencimento?x.dataVencimento.split("T")[0]:"",accountId:""}),x.tipoRentabilidade==="PRE_FIXADO"?f(k=>({...k,preRate:x.taxaFixa?x.taxaFixa.toString():""})):x.tipoRentabilidade==="POS_FIXADO_TAXA"&&f(k=>({...k,fixedRate:x.taxaFixa?x.taxaFixa.toString():""}))):(i("VARIABLE"),v({operationType:x.quantidade&&x.quantidade<0?"SELL":"BUY",name:x.nome,category:x.categoria,quantity:x.quantidade?Math.abs(x.quantidade).toString():"",date:x.dataAporte?x.dataAporte.split("T")[0]:"",brokerage:x.corretagem?x.corretagem.toString():"0",accountId:"",currency:x.moeda||"BRL"}))},h=async()=>{try{const x=await P.get(`/accounts?userId=${n.id}`);if(x.success){const k=x.data.filter(D=>D.tipo&&D.tipo.toLowerCase()==="investimento");u(k),k.length===0&&(E.error('Você precisa criar uma conta do tipo "Investimento" primeiro'),t())}}catch(x){console.error("Erro ao carregar contas:",x),E.error("Erro ao carregar contas")}},p=async x=>{x.preventDefault(),m(!0);try{let k=parseFloat(d.quantity);d.operationType==="SELL"?k=-Math.abs(k):k=Math.abs(k);const D={...d,quantity:k,brokerage:parseFloat(d.brokerage),accountId:parseInt(d.accountId),userId:n.id},_={...s?{id:s.idInvestimento}:{},nome:D.name,categoria:D.category,quantidade:D.quantity,dataAporte:D.date,corretagem:D.brokerage,accountId:D.accountId,moeda:D.currency,userId:D.userId};(await P[(s?"PUT":"POST").toLowerCase()]("/investments",_)).success&&(E.success(`Investimento ${s?"atualizado":"criado"} com sucesso!`),a(),t(),T())}catch(k){console.error(k),E.error("Erro ao criar investimento")}finally{m(!1)}},S=async x=>{x.preventDefault(),m(!0);try{const k={...b,amount:parseFloat(b.amount),indexPercent:b.indexPercent?parseFloat(b.indexPercent):null,fixedRate:b.fixedRate?parseFloat(b.fixedRate):null,preRate:b.preRate?parseFloat(b.preRate):null,accountId:parseInt(b.accountId),userId:n.id};let D=null;k.profitabilityType==="POS_FIXADO_TAXA"?D=k.fixedRate:k.profitabilityType==="PRE_FIXADO"&&(D=k.preRate,D=k.preRate);let _=null,B=null;k.profitabilityType!=="PRE_FIXADO"&&(_=k.index,B=k.indexPercent);const Y={...s?{id:s.idInvestimento}:{},nome:k.name+(k.issuer?` - ${k.issuer}`:""),categoria:"RENDA_FIXA",tipoInvestimento:k.investmentType,tipoRentabilidade:k.profitabilityType,indice:_,percentualIndice:B,taxaFixa:D,valorAporte:k.amount,dataAporte:k.date,dataVencimento:k.maturityDate,accountId:k.accountId,userId:k.userId,quantidade:1};(await P[(s?"PUT":"POST").toLowerCase()]("/investments",Y)).success&&(E.success(`Investimento de Renda Fixa ${s?"atualizado":"criado"}!`),a(),t(),T())}catch(k){console.error(k),E.error("Erro ao criar investimento")}finally{m(!1)}},T=()=>{v({operationType:"BUY",name:"",category:"",quantity:"",date:new Date().toISOString().split("T")[0],brokerage:"0",accountId:"",currency:"BRL"}),f({name:"",investmentType:"",issuer:"",profitabilityType:"",index:"",indexPercent:"100",fixedRate:"",preRate:"",amount:"",date:new Date().toISOString().split("T")[0],maturityDate:"",accountId:""}),i("VARIABLE")},j=x=>{const k=x.target.value;v({...d,category:k}),k==="RENDA_FIXA"&&i("FIXED")};return e?r.jsx(he,{isOpen:e,onClose:t,title:s?"Editar Investimento":o==="VARIABLE"?"Novo Investimento":"Novo Investimento - Renda Fixa",children:o==="VARIABLE"?r.jsxs("form",{onSubmit:p,className:"space-y-4",children:[r.jsxs("div",{className:"flex bg-gray-100 dark:bg-gray-700 p-1 rounded-lg mb-4",children:[r.jsx("button",{type:"button",onClick:()=>v({...d,operationType:"BUY"}),className:`flex-1 py-2 text-sm font-medium rounded-md transition-colors ${d.operationType==="BUY"?"bg-white dark:bg-gray-600 text-green-600 shadow-sm":"text-gray-500 hover:text-gray-700 dark:text-gray-400"}`,children:"Compra"}),r.jsx("button",{type:"button",onClick:()=>v({...d,operationType:"SELL"}),className:`flex-1 py-2 text-sm font-medium rounded-md transition-colors ${d.operationType==="SELL"?"bg-white dark:bg-gray-600 text-red-600 shadow-sm":"text-gray-500 hover:text-gray-700 dark:text-gray-400"}`,children:"Venda"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"label",children:"Nome/Símbolo"}),r.jsx("input",{type:"text",className:"input",value:d.name,onChange:x=>v({...d,name:x.target.value}),placeholder:"Ex: ITUB4, AAPL, BTC",required:!0}),r.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"O preço será obtido automaticamente com base no fechamento do dia."})]}),r.jsxs("div",{children:[r.jsx("label",{className:"label",children:"Categoria"}),r.jsxs("select",{className:"input",value:d.category,onChange:j,required:!0,children:[r.jsx("option",{value:"",children:"Selecione..."}),r.jsx("option",{value:"ACAO",children:"Ação (B3)"}),r.jsx("option",{value:"STOCK",children:"Stock (NYSE/NASDAQ)"}),r.jsx("option",{value:"CRYPTO",children:"Criptomoeda"}),r.jsx("option",{value:"FII",children:"FII"}),r.jsx("option",{value:"RENDA_FIXA",children:"Renda Fixa"})]})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"label",children:"Quantidade"}),r.jsx("input",{type:"number",className:"input",step:"0.000001",min:"0",value:d.quantity,onChange:x=>v({...d,quantity:x.target.value}),required:!0})]}),r.jsxs("div",{children:[r.jsx("label",{className:"label",children:"Corretagem"}),r.jsx("input",{type:"number",className:"input",step:"0.01",min:"0",value:d.brokerage,onChange:x=>v({...d,brokerage:x.target.value})})]})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"label",children:"Data do Aporte"}),r.jsx("input",{type:"date",className:"input",value:d.date,onChange:x=>v({...d,date:x.target.value}),required:!0})]}),r.jsxs("div",{children:[r.jsx("label",{className:"label",children:"Moeda"}),r.jsxs("select",{className:"input",value:d.currency,onChange:x=>v({...d,currency:x.target.value}),children:[r.jsx("option",{value:"BRL",children:"BRL (Real)"}),r.jsx("option",{value:"USD",children:"USD (Dólar)"}),r.jsx("option",{value:"EUR",children:"EUR (Euro)"})]})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"label",children:"Conta de Investimento"}),r.jsxs("select",{className:"input",value:d.accountId,onChange:x=>v({...d,accountId:x.target.value}),required:!0,children:[r.jsx("option",{value:"",children:"Selecione..."}),l.map(x=>r.jsxs("option",{value:x.idConta,children:[x.nome," (",x.tipo,")"]},x.idConta))]})]}),r.jsxs("div",{className:"flex justify-end gap-2 mt-6",children:[r.jsx("button",{type:"button",onClick:t,className:"btn-secondary",children:"Cancelar"}),r.jsx("button",{type:"submit",className:"btn-primary",disabled:c,children:c?"Salvando...":"Salvar"})]})]}):r.jsxs("form",{onSubmit:S,className:"space-y-4",children:[r.jsx("div",{className:"flex justify-between items-center mb-2",children:r.jsxs("button",{type:"button",onClick:()=>i("VARIABLE"),className:"text-sm text-primary-600 hover:underline flex items-center gap-1",children:[r.jsx(Nt,{size:14})," Voltar para Renda Variável"]})}),r.jsxs("div",{children:[r.jsx("label",{className:"label",children:"Nome do Ativo"}),r.jsx("input",{type:"text",className:"input",value:b.name,onChange:x=>f({...b,name:x.target.value}),placeholder:"Ex: CDB Banco XYZ",required:!0})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"label",children:"Tipo de Investimento"}),r.jsxs("select",{className:"input",value:b.investmentType,onChange:x=>f({...b,investmentType:x.target.value}),required:!0,children:[r.jsx("option",{value:"",children:"Selecione..."}),r.jsx("option",{value:"CDB",children:"CDB"}),r.jsx("option",{value:"LCI",children:"LCI"}),r.jsx("option",{value:"LCA",children:"LCA"}),r.jsx("option",{value:"TESOURO",children:"Tesouro Direto"}),r.jsx("option",{value:"DEBENTURE",children:"Debênture"}),r.jsx("option",{value:"OUTROS",children:"Outros"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"label",children:"Emissor (Opcional)"}),r.jsx("input",{type:"text",className:"input",value:b.issuer,onChange:x=>f({...b,issuer:x.target.value}),placeholder:"Banco XYZ"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"label",children:"Tipo de Rentabilidade"}),r.jsxs("select",{className:"input",value:b.profitabilityType,onChange:x=>f({...b,profitabilityType:x.target.value}),required:!0,children:[r.jsx("option",{value:"",children:"Selecione..."}),r.jsx("option",{value:"PRE_FIXADO",children:"Pré-fixado"}),r.jsx("option",{value:"POS_FIXADO",children:"Pós-fixado"}),r.jsx("option",{value:"POS_FIXADO_TAXA",children:"Pós-fixado + Taxa Fixa"})]})]}),(b.profitabilityType==="POS_FIXADO"||b.profitabilityType==="POS_FIXADO_TAXA")&&r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"label",children:"Índice"}),r.jsxs("select",{className:"input",value:b.index,onChange:x=>f({...b,index:x.target.value}),required:!0,children:[r.jsx("option",{value:"",children:"Selecione..."}),r.jsx("option",{value:"CDI",children:"CDI"}),r.jsx("option",{value:"SELIC",children:"SELIC"}),r.jsx("option",{value:"IPCA",children:"IPCA"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"label",children:"% do Índice"}),r.jsx("input",{type:"number",className:"input",value:b.indexPercent,onChange:x=>f({...b,indexPercent:x.target.value}),placeholder:"100",required:!0})]})]}),b.profitabilityType==="POS_FIXADO_TAXA"&&r.jsxs("div",{children:[r.jsx("label",{className:"label",children:"Taxa Fixa Adicional (% a.a.)"}),r.jsx("input",{type:"number",className:"input",value:b.fixedRate,onChange:x=>f({...b,fixedRate:x.target.value}),placeholder:"Ex: 1.5",step:"0.01",required:!0})]}),b.profitabilityType==="PRE_FIXADO"&&r.jsxs("div",{children:[r.jsx("label",{className:"label",children:"Taxa Pré-fixada (% a.a.)"}),r.jsx("input",{type:"number",className:"input",value:b.preRate,onChange:x=>f({...b,preRate:x.target.value}),placeholder:"Ex: 12.5",step:"0.01",required:!0})]}),r.jsxs("div",{children:[r.jsx("label",{className:"label",children:"Valor Aportado (R$)"}),r.jsx("input",{type:"number",className:"input",value:b.amount,onChange:x=>f({...b,amount:x.target.value}),min:"0.01",step:"0.01",required:!0})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"label",children:"Data do Aporte"}),r.jsx("input",{type:"date",className:"input",value:b.date,onChange:x=>f({...b,date:x.target.value}),required:!0})]}),r.jsxs("div",{children:[r.jsx("label",{className:"label",children:"Vencimento"}),r.jsx("input",{type:"date",className:"input",value:b.maturityDate,onChange:x=>f({...b,maturityDate:x.target.value}),required:!0})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"label",children:"Conta de Investimento"}),r.jsxs("select",{className:"input",value:b.accountId,onChange:x=>f({...b,accountId:x.target.value}),required:!0,children:[r.jsx("option",{value:"",children:"Selecione..."}),l.map(x=>r.jsxs("option",{value:x.idConta,children:[x.nome," (",x.tipo,")"]},x.idConta))]})]}),r.jsxs("div",{className:"flex justify-end gap-2 mt-6",children:[r.jsx("button",{type:"button",onClick:t,className:"btn-secondary",children:"Cancelar"}),r.jsx("button",{type:"submit",className:"btn-primary",disabled:c,children:c?"Salvando...":"Salvar"})]})]})}):null}function Tl({isOpen:e,onClose:t,assetGroup:a,onEdit:s,onDelete:n}){if(!a)return null;const o=(a.retornoTotal||0)>=0,i=a.categoria==="RENDA_FIXA";return r.jsx(he,{isOpen:e,onClose:t,title:`${a.nome} ${a.nomeAtivo&&a.nomeAtivo!==a.nome?` - ${a.nomeAtivo}`:""}`,size:"lg",children:r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[r.jsxs("div",{className:"p-3 bg-gray-50 dark:bg-gray-700/50 rounded-lg",children:[r.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 uppercase",children:"Preço Médio"}),r.jsx("p",{className:"text-lg font-bold text-gray-900 dark:text-white",children:M(a.precoMedio)})]}),r.jsxs("div",{className:"p-3 bg-gray-50 dark:bg-gray-700/50 rounded-lg",children:[r.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 uppercase",children:"Total Atual"}),r.jsx("p",{className:"text-lg font-bold text-gray-900 dark:text-white",children:M(a.valorAtualTotal)})]}),r.jsxs("div",{className:"p-3 bg-gray-50 dark:bg-gray-700/50 rounded-lg",children:[r.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 uppercase",children:"Total Investido"}),r.jsx("p",{className:"text-lg font-bold text-gray-900 dark:text-white",children:M(a.valorAporteTotal)})]}),r.jsxs("div",{className:"p-3 bg-gray-50 dark:bg-gray-700/50 rounded-lg",children:[r.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 uppercase",children:"Retorno Total"}),r.jsxs("p",{className:`text-lg font-bold ${o?"text-green-600":"text-red-600"}`,children:[o?"+":"",M(a.retornoTotal)]})]})]}),r.jsxs("div",{children:[r.jsx("h4",{className:"text-sm font-semibold text-gray-900 dark:text-white mb-3 border-b border-gray-100 dark:border-gray-700 pb-2",children:"Aportes Realizados"}),r.jsx("div",{className:"space-y-3 max-h-96 overflow-y-auto pr-2",children:a.aportes.map(l=>{const u=l.quantidade<0;let c=(l.valorAtual||0)-(l.valorAporte||0);return l.valorAporte!==0&&c/l.valorAporte*100,r.jsxs("div",{className:`flex flex-col sm:flex-row sm:items-center justify-between p-3 rounded-lg bg-white dark:bg-gray-800 border ${u?"border-red-100 dark:border-red-900/30":"border-gray-100 dark:border-gray-700"} hover:shadow-sm transition-shadow gap-3`,children:[r.jsxs("div",{className:"flex-1 grid grid-cols-2 sm:grid-cols-4 gap-2 text-sm",children:[r.jsx("div",{className:"col-span-2 sm:col-span-1",children:u?r.jsx("span",{className:"inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-300",children:"Venda"}):r.jsx("span",{className:"inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-300",children:"Compra"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-xs text-gray-500",children:"Data"}),r.jsx("p",{className:"font-medium",children:Ne(l.dataAporte)})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-xs text-gray-500",children:"Quantidade"}),r.jsxs("p",{className:"font-medium",children:[Math.abs(l.quantidade)," ",i?"un":"cotas"]})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-xs text-gray-500",children:"Preço Unit."}),r.jsx("p",{className:"font-medium",children:M(l.precoAporte)})]})]}),r.jsxs("div",{className:"flex items-center justify-between sm:justify-end gap-4 border-t sm:border-t-0 border-gray-100 dark:border-gray-700 pt-2 sm:pt-0 mt-2 sm:mt-0",children:[r.jsxs("div",{className:"text-right",children:[r.jsx("p",{className:"text-xs text-gray-500",children:u?"Valor Recebido":"Valor Investido"}),r.jsx("p",{className:`font-bold ${u?"text-green-600":"text-gray-900 dark:text-white"}`,children:M(Math.abs(l.valorAporte))})]}),r.jsxs("div",{className:"flex gap-1",children:[r.jsx("button",{onClick:()=>{s(l),t()},className:"p-1.5 text-gray-400 hover:text-primary-600 hover:bg-primary-50 dark:hover:bg-primary-900/20 rounded transition-colors",title:"Editar",children:r.jsx(uo,{size:14})}),r.jsx("button",{onClick:()=>{n(l.idInvestimento),t()},className:"p-1.5 text-gray-400 hover:text-red-600 hover:bg-red-50 dark:hover:bg-red-900/20 rounded transition-colors",title:"Excluir",children:r.jsx(De,{size:14})})]})]})]},l.idInvestimento)})})]})]})})}Ct.register(Dt,Ot,jr,Nr,At,Tt,Et,St,kr);function El(){const{user:e}=re(),[t,a]=y.useState([]),[s,n]=y.useState(!0),[o,i]=y.useState({totalInvested:0,totalCurrent:0,totalReturn:0,totalReturnPercent:0}),[l,u]=y.useState(!1),[c,m]=y.useState({}),[d,v]=y.useState(null),[b,f]=y.useState(!1),[w,h]=y.useState("1M");y.useEffect(()=>{e&&p()},[e]);const p=async()=>{n(!0);try{const N=await P.get(`/investments?userId=${e.id}`);N.success&&(a(N.data||[]),N.summary?i(N.summary):S(N.data||[]))}catch{E.error("Erro ao carregar investimentos")}finally{n(!1)}},S=N=>{const C=N.reduce((q,V)=>q+(V.valorAporte||0),0),O=N.reduce((q,V)=>q+(V.valorAtual||0),0),L=O-C,R=C>0?L/C*100:0;i({totalInvested:C,totalCurrent:O,totalReturn:L,totalReturnPercent:R})},T=async N=>{if(confirm("Tem certeza que deseja excluir este investimento?"))try{(await P.delete(`/investments?id=${N}`)).success&&(E.success("Investimento excluído com sucesso"),p())}catch{E.error("Erro ao excluir investimento")}},j=N=>{m(C=>({...C,[N]:!C[N]}))},x=N=>{v(N),f(!0)},k=N=>{v(null),f(!1),_(N),u(!0)},[D,_]=y.useState(null),B=y.useMemo(()=>{if(!t.length)return null;const N=Ke(new Date);let C;switch(w){case"1D":C=Mi(N,1);break;case"1W":C=Qi(N,1);break;case"1M":C=ft(N,1);break;case"6M":C=ft(N,6);break;case"YTD":C=Ro(N);break;case"1Y":C=ga(N,1);break;case"5Y":C=ga(N,5);break;case"ALL":C=t.map(q=>pa(q.dataAporte)).reduce((q,V)=>V<q?V:q,N);break;default:C=ft(N,1)}const L=Ao({start:C,end:N}).map(R=>{let q=0,V=0;return t.forEach(X=>{const K=Ke(pa(X.dataAporte));if(Pi(K,R))return;q+=X.valorAporte||0;const U=X.valorAporte||0,Z=X.valorAtual||0,xe=ca(N,K),br=ca(R,K);if(xe<=0)V+=Z;else{const vr=(Z-U)*br/xe;V+=U+vr}}),{date:fa(R,"dd/MM",{locale:xa}),fullDate:fa(R,"dd/MM/yyyy",{locale:xa}),invested:q,current:V}});return{labels:L.map(R=>R.date),datasets:[{label:"Valor Patrimonial",data:L.map(R=>R.current),borderColor:"#3b82f6",backgroundColor:"rgba(59, 130, 246, 0.1)",fill:!0,tension:.4,pointRadius:0,pointHoverRadius:4},{label:"Valor Investido",data:L.map(R=>R.invested),borderColor:"#9ca3af",borderDash:[5,5],fill:!1,tension:.4,pointRadius:0,pointHoverRadius:4}]}},[t,w]),Y=[{id:"1D",label:"1D"},{id:"1W",label:"1S"},{id:"1M",label:"1M"},{id:"6M",label:"6M"},{id:"YTD",label:"YTD"},{id:"1Y",label:"1A"},{id:"5Y",label:"5A"},{id:"ALL",label:"Tudo"}],G=t.reduce((N,C)=>{const O=C.categoria||"OUTROS";N[O]||(N[O]={});const L=C.nome;N[O][L]||(N[O][L]={nome:L,nomeAtivo:C.nomeAtivo,categoria:O,tipoInvestimento:C.tipoInvestimento,quantidadeTotal:0,valorAporteTotal:0,valorAtualTotal:0,retornoTotal:0,aportes:[],totalBuyQty:0,totalBuyCost:0});const R=N[O][L],q=C.quantidade||0,V=q>0,X=Math.abs(q);R.quantidadeTotal+=q,V&&(R.totalBuyQty+=X,R.totalBuyCost+=C.valorAporte||0);const K=R.totalBuyQty>0?R.totalBuyCost/R.totalBuyQty:0;return R.precoMedio=K,R.aportes.push(C),N},{});Object.keys(G).forEach(N=>{Object.values(G[N]).forEach(C=>{let O=0;const L=C.aportes.find(R=>R.precoAtual>0);L&&(O=L.precoAtual),C.valorAtualTotal=C.quantidadeTotal*O,C.valorAporteTotal=C.quantidadeTotal*C.precoMedio,C.retornoTotal=C.valorAtualTotal-C.valorAporteTotal,C.retornoPercent=C.valorAporteTotal>0?C.retornoTotal/C.valorAporteTotal*100:0})});const ne={ACAO:"Ações (B3)",STOCK:"Stocks (NYSE/NASDAQ)",CRYPTO:"Criptomoedas",FII:"Fundos Imobiliários",RENDA_FIXA:"Renda Fixa",OUTROS:"Outros"},ae=[];return Object.keys(G).forEach(N=>{let C=0;Object.values(G[N]).forEach(O=>{C+=O.valorAtualTotal}),ae.push({category:ne[N]||N,value:C})}),ae.sort((N,C)=>C.value-N.value),s?r.jsx("div",{className:"flex items-center justify-center h-64",children:r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-4 border-primary-600 border-t-transparent"})}):r.jsxs("div",{className:"space-y-6 animate-fade-in",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h2",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:"Investimentos"}),r.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-1",children:"Acompanhe seus investimentos"})]}),r.jsxs("button",{onClick:()=>{_(null),u(!0)},className:"btn-primary",children:[r.jsx(Ee,{className:"w-4 h-4"}),"Novo Investimento"]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[r.jsx(de,{title:"Total Investido",amount:M(o.totalInvested),icon:Ut,type:"default"}),r.jsx(de,{title:"Valor Atual",amount:M(o.totalCurrent),icon:Lt,type:"balance"}),r.jsx(de,{title:"Retorno Total",amount:M(o.totalReturn),icon:ar,type:o.totalReturn>=0?"income":"expense",subtitle:`${o.totalReturnPercent.toFixed(2)}%`})]}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[r.jsxs("div",{className:"lg:col-span-2 card",children:[r.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between mb-6 gap-4",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Evolução Patrimonial Dos Seus Investimentos"}),r.jsx("div",{className:"flex flex-wrap gap-2",children:Y.map(N=>r.jsx("button",{onClick:()=>h(N.id),className:`px-3 py-1 text-xs font-medium rounded-full transition-colors ${w===N.id?"bg-primary-100 text-primary-700 dark:bg-primary-900/30 dark:text-primary-400":"bg-gray-100 text-gray-600 hover:bg-gray-200 dark:bg-gray-700 dark:text-gray-400 dark:hover:bg-gray-600"}`,children:N.label},N.id))})]}),r.jsx("div",{className:"h-64 w-full",children:B?r.jsx(Cr,{data:B,options:{responsive:!0,maintainAspectRatio:!1,interaction:{mode:"index",intersect:!1},plugins:{legend:{position:"top",align:"end",labels:{boxWidth:10,usePointStyle:!0}},tooltip:{callbacks:{label:function(N){let C=N.dataset.label||"";return C&&(C+=": "),N.parsed.y!==null&&(C+=new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(N.parsed.y)),C}}}},scales:{x:{grid:{display:!1},ticks:{maxTicksLimit:8}},y:{grid:{color:"rgba(0, 0, 0, 0.05)"},ticks:{callback:N=>new Intl.NumberFormat("pt-BR",{notation:"compact",compactDisplay:"short",style:"currency",currency:"BRL"}).format(N)}}}}}):r.jsx("div",{className:"h-full flex items-center justify-center text-gray-500",children:"Carregando gráfico..."})})]}),r.jsxs("div",{className:"lg:col-span-1 card",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Alocação de Ativos"}),ae.length>0?r.jsx("div",{className:"h-64",children:r.jsx(He,{data:{labels:ae.map(N=>N.category),datasets:[{data:ae.map(N=>N.value),backgroundColor:["#3b82f6","#ef4444","#fbbf24","#10b981","#8b5cf6","#6b7280"],borderWidth:0}]},options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"bottom"}}}})}):r.jsx("p",{className:"text-center text-gray-500 py-8",children:"Sem dados para exibir"})]})]}),r.jsx("div",{className:"space-y-6",children:Object.keys(G).length===0?r.jsx("div",{className:"card text-center py-12",children:r.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Nenhum investimento cadastrado"})}):Object.entries(G).map(([N,C])=>{const O=Object.values(C),L=c[N];L||O.slice(0,5);const R=O.reduce((U,Z)=>U+Z.valorAtualTotal,0),q=O.reduce((U,Z)=>U+Z.valorAporteTotal,0),V=R-q,X=q>0?V/q*100:0,K=V>=0;return r.jsxs("div",{className:"card",children:[r.jsxs("div",{className:"flex justify-between items-center p-4 -m-6 mb-0 cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-700/50 transition-colors",onClick:()=>j(N),children:[r.jsxs("div",{className:"flex items-center gap-2",children:[L?r.jsx(ao,{size:20,className:"text-gray-400"}):r.jsx(to,{size:20,className:"text-gray-400"}),r.jsx("h3",{className:"text-lg font-bold text-gray-900 dark:text-white",children:ne[N]||N}),r.jsx("span",{className:"text-xs bg-gray-100 dark:bg-gray-700 text-gray-600 dark:text-gray-300 px-2 py-0.5 rounded-full",children:O.length})]}),r.jsxs("div",{className:"text-right",children:[r.jsx("div",{className:"font-bold text-gray-900 dark:text-white",children:M(R)}),r.jsxs("div",{className:`text-xs font-medium ${K?"text-green-600":"text-red-600"}`,children:[K?"+":"",M(V)," (",X.toFixed(2),"%)"]})]})]}),L&&r.jsx("div",{className:"space-y-3 mt-6",children:O.map(U=>{const Z=U.retornoTotal>=0;return r.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between p-3 rounded-lg bg-gray-50 dark:bg-gray-700/50 hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors gap-3 cursor-pointer",onClick:xe=>{xe.stopPropagation(),x(U)},children:[r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex justify-between sm:justify-start sm:gap-4 items-center",children:[r.jsxs("span",{className:"font-semibold text-gray-900 dark:text-white",children:[U.nome," ",U.nomeAtivo&&U.nomeAtivo!==U.nome&&` - ${U.nomeAtivo}`]}),U.quantidadeTotal>0&&r.jsxs("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:[U.quantidadeTotal," ",U.categoria==="RENDA_FIXA"?"un":"cotas"]})]}),r.jsxs("div",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:["Preço Médio: ",M(U.precoMedio)]})]}),r.jsx("div",{className:"flex justify-between sm:justify-end items-center gap-4",children:r.jsxs("div",{className:"text-right",children:[r.jsx("div",{className:"font-bold text-gray-900 dark:text-white",children:M(U.valorAtualTotal)}),r.jsxs("div",{className:`text-xs font-medium ${Z?"text-green-600":"text-red-600"}`,children:[Z?"+":"",M(U.retornoTotal)," (",U.retornoPercent.toFixed(2),"%)"]})]})})]},U.nome)})})]},N)})}),r.jsx(Sl,{isOpen:l,onClose:()=>{u(!1),_(null)},onSuccess:p,investmentToEdit:D}),r.jsx(Tl,{isOpen:b,onClose:()=>f(!1),assetGroup:d,onEdit:k,onDelete:T})]})}function Dl(){const[e,t]=y.useState(()=>localStorage.getItem("controle-se-active-section")||"overview"),[a,s]=y.useState(!1),n=()=>{switch(e){case"overview":return r.jsx(oa,{});case"categories":return r.jsx(xo,{});case"accounts":return r.jsx(yo,{});case"transactions":return r.jsx(bo,{});case"budgets":return r.jsx(vo,{});case"tags":return r.jsx(wo,{});case"reports":return r.jsx(jo,{});case"investments":return r.jsx(El,{});default:return r.jsx(oa,{})}};return r.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:[r.jsx(fo,{onMenuClick:()=>s(!a)}),r.jsxs("div",{className:"flex",children:[r.jsx(go,{activeSection:e,onSectionChange:o=>{t(o),localStorage.setItem("controle-se-active-section",o),s(!1)},isOpen:a,onClose:()=>s(!1)}),r.jsx("main",{className:"flex-1 p-4 lg:p-6 overflow-y-auto h-[calc(100vh-73px)] w-full",children:r.jsx("div",{className:"max-w-7xl mx-auto",children:n()})})]})]})}function yr(){return r.jsx("div",{className:"fixed inset-0 bg-white dark:bg-gray-900 flex items-center justify-center z-50",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"inline-block animate-spin rounded-full h-12 w-12 border-4 border-primary-600 border-t-transparent mb-4"}),r.jsx("p",{className:"text-gray-600 dark:text-gray-400 font-medium",children:"Carregando Controle-se..."})]})})}function Ol({children:e}){const{user:t,loading:a}=re();return a?r.jsx(yr,{}):t?e:r.jsx(pt,{to:"/login",replace:!0})}function Al(){const{user:e,loading:t}=re();return t?r.jsx(yr,{}):r.jsxs(Dr,{children:[r.jsx(ct,{path:"/login",element:e?r.jsx(pt,{to:"/dashboard",replace:!0}):r.jsx(ho,{})}),r.jsx(ct,{path:"/dashboard",element:r.jsx(Ol,{children:r.jsx(Dl,{})})}),r.jsx(ct,{path:"/",element:r.jsx(pt,{to:"/dashboard",replace:!0})})]})}function Rl(){return r.jsx(mo,{children:r.jsx(Qn,{children:r.jsx(Kn,{children:r.jsx(Er,{children:r.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:[r.jsx(Al,{}),r.jsx(ys,{position:"top-center",toastOptions:{duration:3e3,style:{background:"var(--toast-bg)",color:"var(--toast-color)"},success:{iconTheme:{primary:"#22c55e",secondary:"#fff"}},error:{iconTheme:{primary:"#ef4444",secondary:"#fff"}}}})]})})})})})}gt.createRoot(document.getElementById("root")).render(r.jsx(Or.StrictMode,{children:r.jsx(Rl,{})}));
